@model DAL.JobGeneration

@{
    ViewBag.Title = "Job";
    Layout = "~/Views/Shared/_TrueBookMstr.cshtml";


}
<style>
    .btnwidth {
        width: 70px;
    }
    .reve_wid {
        width: 11.6% !important;
    }
    .reve_rate {
        width: 10.9% !important;
    }
    .rev_uni {
        width: 5% !important;
    }
    .ico_cla {
        text-align: right;
    }
    .ui-widget
    {
        font-size:10px!important;
    }
    .overlay {
        height: 100%;
        width: 100%;
        display: none;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: rgb(0,0,0);
        background-color: rgba(0,0,0, 0.9);
    }
    .data10, .data11, .data12, data13, data14 {
    display:none;
    }
    #provin_rate, #provin_curr, #provinex_rate, #provin_forgin, #sale_rate, #sale_curr, #sale_exrate, #sale_for {
        display: none;
    }
          .overlay-content {
        position: relative;
        top: 25%;
        width: 100%;
        text-align: center;
        margin-top: 30px;
    }

.overlay a {
  padding: 8px;
  text-decoration: none;
  font-size: 36px;
  color: #818181;
  display: block;
  transition: 0.3s;
}

.overlay a:hover, .overlay a:focus {
  color: #f1f1f1;
}

.overlay .closebtn {
  position: absolute;
  top: 20px;
  right: 45px;
  font-size: 60px;
}


    .modal-footer {
        text-align: left;
    }
    div#tabs-8 {
        width: 83% !important;
    }
    .ui-widget.ui-widget-content {
        border: 1px solid #c5c5c5;
        width: 100% !important;
    }
    div#tabs-1 {
        width: 90%;
        padding-left:1px;
    }
    div#tabs-2 {
        width: 83% !important;
    }

    div#tabs-3 {
        width: 83% !important;
    }

    div#tabs-4 {
        width: 83% !important;
    }

    div#tabs-5 {
        width: 83% !important;
    }

    div#tabs-6 {
        width: 83% !important;
    }

    div#tabs-7 {
        width: 83% !important;
    }

    .no-padding {
        padding: 4px !important;
    }
    .float-right {
        left: 20%;
    }
    div#ui-datepicker-div {
        width: 300px !important;
    }

    .headinglabel {
        font-family: Calibri !important;
        display:inline;
        color:#000 !important;
    }
    .ui-tabs .ui-tabs-nav li {

        list-style: none;
        float: left;
        position: relative;
        top: 1px;
        margin: 7px auto;
        border-bottom: 0 !important;
        padding: 0;
        white-space: nowrap;
    }
    .shadowbr {
        background-color: #fff;
        box-shadow: 0 9px 23px rgba(0, 0, 0, 0.09), 0 5px 5px rgba(0, 0, 0, 0.06) !important;
        border-radius: 25px;
        margin-bottom: 27px;
        padding: 20px;
    }
    .ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active {
        background: unset !important;
        background: linear-gradient(135deg, #07a7e3 0%, #32dac3 100%) !important;
    }
    .ui-widget-header {
        background: unset !important;

    }
    .ui-state-active a, .ui-state-active a:link, .ui-state-active a:visited {
        color: #ffffff !important;
        text-decoration: none;

    }
    .ui-state-hover, .ui-widget-content .ui-state-hover, .ui-widget-header .ui-state-hover, .ui-state-focus, .ui-widget-content .ui-state-focus, .ui-widget-header .ui-state-focus {
        background: unset !important;
        color: #fff !important;
        background: linear-gradient(135deg, #07a7e3 0%, #32dac3 100%) !important;
    }

    .ui-tabs .ui-tabs-nav li {
        list-style: none;
        float: left;
        position: relative;
        top: 1px;
        margin: 5px auto !important;
        border-bottom: 0 !important;
        padding: 0;
        white-space: nowrap;
        color: #fff !important;
    }
</style>

<script type="text/javascript">
    // When the document is ready
    $(document).ready(function () {

        $("#tabs").tabs().addClass("ui-tabs-vertical ui-helper-clearfix");
        $("#tabs li").removeClass("ui-corner-top").addClass("ui-corner-left");

        //$("#JobDate").datepicker().datepicker("setDate", new Date());
        $("#billofLadingSea").hide();
        $("#pkgdetails").hide();
        $("#containerdetails").hide();

        var startdate = '@Session["FyearFrom"].ToString()';
        var enddate = '@Session["FyearTo"].ToString()';
        var sd = new Date(startdate);
        var ed = new Date(enddate);


        var status = "";
        $(function () {
            $("#TranDate").datepicker({
                dateFormat: 'dd-M-yy',
                changeYear: true, changeMonth: true,
                minDate: sd,
                maxDate: ed,
            });
        });

        $('#TransDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#CollectionDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#DeliveryDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#ArrivalDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            //minDate: sd,
           // maxDate: ed,
        });

        $('#InvoiceDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#SailingDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });
        $('#DepartingDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#RefundDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#DeliveryOrderDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#DepositDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#BLDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });
        $('#DODate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });
        $('#BillofEntryDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });


        //$("#btnSave").click(function () {
        //    $.ajax({
        //        type: "GET",
        //        url: "/Job/CheckForStatusSea",
        //        datatype: "Json",
        //        data: { jobtypeid: $('#JobTypeID option:selected').val() },
        //        success: function (data) {

        //            if (data.mystatus) {
        //                //alert("Hiii");
        //                //if ($("#VoyageNo").val() == "") {
        //                //    alert("Select Voyage No");
        //                //    return false;
        //                //}
        //                //else {
        //                //    return true;
        //                //}
        //                alert("Success");
        //            }
        //            else {
        //                //if ($("#weight").val() == "") {
        //                //    ("Enter Weight");
        //                //    return false;

        //                //}
        //                //else {
        //                //    return true;
        //                //}
        //                alert("Fail");
        //            }




        //        }
        //    });
        //});


    });


</script>

<script>
    var vactualJObcode = '';
    $(document).ready(function () {

        var flg = true;

        $("#MainJobID").change(function () {
            var total;
            $.ajax({
                type: "GET",
                url: "/Job/GetJobCodeByMainJobCode",
                datatype: "Json",
                data: { mainjobid: $('#MainJobID').val() },
                success: function (data) {
                    if (data) {
                        total = data.length;
                        total = total + 1;
                    }
                    if (total == 0)
                        total = 1;
                    $('#JobCode').val(vactualJObcode + '/' + total);

                }
            });
        });



        $("#btnSave").click(function () {

            $.ajax({
                type: "GET",
                url: "/Job/GetSeaStatus",
                datatype: "Json",
                data: { JobTypeID: $('#JobTypeID').val() },
                success: function (data) {


                    if (data == true) {

                        if ($("#VesselID option:selected").val() == "") {
                            alert("Please fill Vessel,It is mandatory fields");
                            flg = false;

                        }
                        else if ($("#VoyageNo option:selected").val() == "") {
                            alert("Please fill Voyage,It s mandatory fields");
                            flg = false;

                        }
                        else if ($("#ContainerNo").val() == "") {
                            alert("Please fill ContainerNo,It is mandatory fields");
                            flg = false;

                        }
                        else {
                            flg = true;

                        }

                    }

                }
            });

            if (flg == false) {
                return false;
            }
            else if (flg == true) {

                return true;
            }


        });

        $("#drop").hide();
        $("#SubJob").attr('checked', false);

        $("#SubJob").change(function () {
            if ($("#SubJob").is(':checked')) {
                $("#drop").show();
            }
            else {
                $("#drop").hide();
            }
        });
    });

    function AddInvoiceNumber() {
        if (confirm("Do you want to Generate Invoice?")) {
            $('#InvoiceModal').modal('show');
            return false;
        }
        else {
            return true;
        }

    }
</script>
<style>
    .panel-body {
        margin-bottom: 3px !important;
    }

    .ui-tabs-vertical {
        width: 55em;
    }

        .ui-tabs-vertical .ui-tabs-nav {
            padding: .2em .1em .2em .2em;
            float: left;
            width: 12em;
        }

            .ui-tabs-vertical .ui-tabs-nav li {
                clear: left;
                width: 100%;
                border-bottom-width: 1px !important;
                border-right-width: 0 !important;
                margin: 0 -1px .2em 0;
            }

                .ui-tabs-vertical .ui-tabs-nav li a {
                    display: block;
                }

                .ui-tabs-vertical .ui-tabs-nav li.ui-tabs-active {
                    padding-bottom: 0;
                    padding-right: .1em;
                    border-right-width: 1px;
                }

        .ui-tabs-vertical .ui-tabs-panel {
            padding: 1em;
            float: right;
            width: 40em;
        }
    .fc_sal {
        color: #f72323 !important;
    }
   .lc_sal {
        color: #1e60d8 !important;
    }
    .note_ls
    {
        width:23%!important;
    }
    .lc_pro {
        color: #0b1be2;
    }
    .fc_pro {
        color: #e60928;
    }
</style>
<script type="text/javascript">
    $(document).ready(function () {
        $(":text").css({ "border-radius": "5px" });
        $("select").css({ "border-radius": "5px" });
        $("textarea").css({ "border-radius": "5px" });
        $('input[type=number]').css({ "border-radius": "5px" });

        $("a.panel-title").click(function () {
            $(this).toggleClass('fa fa-caret-right fa fa-caret-down');
        });

        $("#JobTypeID").change(function () {
            $("#JobCode").val('');
            $.ajax({
                type: "GET",
                url: "/Job/GetSeaStatus",
                datatype: "Json",
                data: { JobTypeID: $('#JobTypeID').val() },
                success: function (data) {
                    if (data == true) {
                        $("#pkgdetails").hide();
                        $("#containerdetails").show();
                        $("#billofLadingSea").show();

                    }
                    else if (data == false) {
                        $("#pkgdetails").show();

                        $("#billofLadingSea").hide();
                        $("#containerdetails").hide();
                    }

                }
            });
        });



        $("#pkgdetails").hide();
        $("#containerdetails").hide();
        $("#billofLadingSea").hide();




    });
</script>
<script>
    $(document).ready(function () {
        $("#AddCargo").hide();
        $("#AddContainer").hide();
        $("#AddCharges").hide();
        $("#AddBill").hide();
        if ($("#add_cargo").click(function () {
            $("#AddCargo").show();
        }));
        if ($("#add_container").click(function () {

            $("#AddContainer").show();
        }));
        if ($("#add_charges").click(function () {

            $("#AddCharges").show();
        }));
        if ($("#add_bill").click(function () {

            $("#AddBill").show();
        }));
    });

    $("#ProvisionExRate").blur(function () {
        var wt = $(this).val();
        $("#ProvisionExRate").val(parseFloat(wt).toFixed(2));
    });
    $("#SalesExRate").blur(function () {
        var t = $(this).val();
        $("#SalesExRate").val(parseFloat(t).toFixed(2));
    });

    function validation() {
        var Flag = true;
        if ($('#txtJobCode').val() == "") {
            Flag = false;
        }

        if ($('#ddJobType').val() == 0) {
            Flag = false;
        }

        if ($('#JobDate').val() == "") {
            Flag = false;
        }

        if ($('#ddShipper').val() == "") {
            Flag = false;
        }
        return Flag;
    }

</script>

<script src="@Url.Content("~/Scripts/angular.js")"></script>
<script src="@Url.Content("~/MyJsFiles/CargoDescription.js")"></script>

<div ng-app="CargoApp" ng-controller="cargoController" class="container-fluid">

    <div class="" dir="ltr" id="main" runat="server" style="width: 100%;">
        <section class="content-header">
            <h1 class="headingfont">Job<small></small></h1>

        </section>

        <p class="cbtnpadding">

            <a href='@Url.Action("JobDetails", "Job", new { id = 0 })' class="btn btn-primary" data-toggle="tooltip" data-placement="right" title="Click here">Back to list</a>
        </p>
        @using (Html.BeginForm())
        {
            @Html.ValidationSummary(true)

        <section class="content jobform">
            <div class="row no-margin">
                <div class="col-md-3">
                    <label class="required headinglabel">Job Type</label>
                    @{
                        if (Model.JobID > 0)
                        {
                            @Html.DropDownListFor(model => model.JobTypeID, (SelectList)ViewBag.JobType, "Select", new { @class = "form-control", required = "required" })
                        }
                        else
                        {
                            @Html.DropDownListFor(model => model.JobTypeID, (SelectList)ViewBag.JobType, "Select", new { ng_model = "JobTypeID", ng_change = "getJobPrefix()", @class = "form-control", required = "required" })
                        }
                        @Html.HiddenFor(model => model.JobID, new { id = "JobID" })
                    }



                    @Html.ValidationMessageFor(model => model.JobTypeID)

                </div>
                <div class="col-md-3">
                    <input type="checkbox" id="SubJob" name="SubJob" style="height: 12px; width: 12px; margin-bottom: 0px" />
                    <label class="headinglabel" style="margin-bottom: 3px">SubJob</label>
                    <div id="drop">
                        @Html.DropDownListFor(model => model.MainJobID, new SelectList(ViewBag.MainJobId, "JobID", "JobCode"), "Select Main Job", new { @class = "form-control" })
                    </div>
                </div>


                <div class="col-md-3">
                    <label class="required headinglabel">Job Code</label>



                    @{
                        if (Model.JobID > 0)
                        {
                            @Html.TextBoxFor(model => model.JobCode, new { @class = "form-control", @id = "txtJobCode", required = "required" })
                        }
                        else
                        {
                            @Html.TextBoxFor(model => model.JobCode, new { ng_model = "JobCode", @class = "form-control", required = "required" })
                        }
                    }
                    @Html.ValidationMessageFor(model => model.JobCode)

                </div>

                <div class="col-md-3 form-group">
                    <label class="headinglabel">Job Date</label>
                    @Html.TextBoxFor(m => m.JobDate, new { Value = Model.JobDate.Value.ToString("dd-MMM-yyyy"), id = "", @class = "form-control", @readonly = "readonly", @style = "background-color: lightgrey;" })

                    @Html.HiddenFor(model => model.JobDate)
                    @Html.HiddenFor(model => model.AcJournalID)

                </div>

            </div>
            <div class="row no-margin" style="padding-top: 10px">


                <div class="col-md-3 form-group">
                    <label class=" headinglabel">Shipper</label>
                    @Html.DropDownListFor(model => model.ConsignerID, (SelectList)ViewBag.Customer, "Select", new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.ConsignerID)



                </div>

                <div class="col-md-3 form-group">
                    <label class="headinglabel">Consignee</label>
                    @Html.DropDownListFor(model => model.ConsigneeID, (SelectList)ViewBag.Customer, "Select", new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.ConsigneeID)

                </div>


                <div class="col-md-3">
                    <label class=" headinglabel">Invoice To</label>
                    @Html.DropDownListFor(model => model.InvoiceToID, (SelectList)ViewBag.Customer, "Select", new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.InvoiceToID)

                </div>

                <div class="col-md-3">
                    <label class=" headinglabel">Notify To</label>
                    @Html.DropDownListFor(model => model.ShipperID, (SelectList)ViewBag.Customer, "Select", new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.ShipperID)



                </div>
            </div>

            <div class="row no-margin" style="padding-top: 10px">
                <div class="col-md-3">
                    <label class="headinglabel">Load Port</label>
                    @Html.DropDownListFor(model => model.LoadPortID, (SelectList)ViewBag.Ports, "Select", new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.LoadPortID)

                </div>

            <div class="col-md-3">
                <label class=" headinglabel">Destination Port</label>
                @Html.DropDownListFor(model => model.DestinationPortID, (SelectList)ViewBag.Ports, "Select", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.DestinationPortID)

            </div>

            <div class="col-md-3">
                <label class="headinglabel">Place of Receipt</label>
                @Html.DropDownListFor(model => model.ReceiptPlaceID, (SelectList)ViewBag.Ports, "Select", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.ReceiptPlaceID)
            </div>

            <div class="col-md-3">
                <label class="headinglabel">Place of Delivery</label>
                @Html.DropDownListFor(model => model.DeliveryPlaceID, (SelectList)ViewBag.Ports, "Select", new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.DeliveryPlaceID)

            </div>

</div>
                <div class="row no-margin" style="padding-top: 10px">
                    <div class="col-md-3">
                        <label class=" headinglabel">Staff</label>
                        @Html.DropDownListFor(model => model.EmployeeID, (SelectList)ViewBag.Employees, "Select", new { @class = "form-control", @readonly = "readonly" })
                        @Html.ValidationMessageFor(model => model.EmployeeID)

                    </div>
                    <div class="col-md-3">
                        <label class=" headinglabel">Created By</label>
                        @Html.TextBox("User", Session["UserName"], new { @class = "form-control", @readonly = "readonly" })

                    </div>


                </div>
                <br />

                <div id="tabs">
                    <ul class="item_list">
                        <li class="menulist"><a href="#tabs-1">Revenue Details</a></li>
                        <li class="menulist"><a href="#tabs-2">Cargo</a></li>
                        <li class="menulist"><a href="#tabs-3">Container</a></li>
                        <li class="menulist"><a href="#tabs-4">Customs</a></li>
                        <li class="menulist"><a href="#tabs-5">Bill Of Loading</a></li>
                        <li class="menulist"><a href="#tabs-6">Bill Of Entry</a></li>
                        <li class="menulist"><a href="#tabs-7">Delivery Advice</a></li>
                        <li class="menulist"><a href="#tabs-8">Notifications</a></li>
                    </ul>
                    <div id="tabs-1">
                        <div class="panel-body shadowbr">
                            <div class="inner-tab-content">
                                <div class="row no-margin">
                                    <div class="col-xs-6 col-sm-2 col-md-2  reve_wid no-padding">
                                        <label class="headinglabel">Revenue Type</label>
                                        @*    @Html.DropDownList("RevenueType", (SelectList)ViewBag.RevenueT, "Select", new {ng_model = "RevenueTypeID", ng_change = "getSuppliers()", @class = "form-control" })*@
                                        <input type="hidden" class="form-control textright" ng-model="InvoiceID" />
                                        <select ng-model="RevenueTypeID" id="RevenueTypeID" class="form-control" ng-change="getSuppliers()">
                                            <option value='0'>Select</option>
                                            <option ng-repeat="b in RevenueTypeList" ng-selected="RevenueTypeID==b.RevenueTypeID" value='{{b.RevenueTypeID}}'>{{b.RevenueType}}</option>
                                        </select>
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2 reve_wid no-padding">
                                        <label class="headinglabel">Supplier</label>
                                        <select ng-model="Supplier2" id="Supplier2" class="form-control" ng-change="getSupplierID()">
                                            <option value='0'>Select</option>
                                            <option ng-repeat="b in Sup" ng-selected="Supplier2==b.SupplierID" value='{{b.SupplierID}}'>{{b.SupplierName}}</option>
                                        </select>
                                    </div>
                                    <div class="col-xs-6 col-sm-1 col-md-1 rev_uni no-padding">
                                        <label class="headinglabel">QTY</label>
                                        <input type="number" class="form-control textright" ng-model="Quantity" id="QTY" placeholder="QTY" />
                                    </div>
                                    <div class="col-xs-6 col-sm-1 col-md-1 rev_uni no-padding">
                                        <label class="headinglabel">Unit</label>
                                        <input type="number" class="form-control textright" ng-model="unit" id="unit" placeholder="Unit" />
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2 reve_rate no-padding">
                                        <label class="headinglabel">Provision Rate</label>
                                        <input type="number" class="form-control textright" id="ProRate" placeholder="Rate" ng_model="ProvisionRate" ng_change="CalcProvForeign()" />
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2 reve_rate no-padding">
                                        <label class="headinglabel">Provision Currency</label>
                                        @* @Html.DropDownList("ProvisionCurrency", (SelectList)ViewBag.Curency, "Select", new {ng_selected="ProvisionCurrencyID1", ng_model = "ProvisionExR", ng_change = "getProvisionCurEx()", @class = "form-control" })*@
                                        <select ng-model="ProvisionExR" id="ProvisionExR" class="form-control" ng_change="getProvisionCurEx()">
                                            <option value='0'>Select</option>
                                            <option ng-repeat="b in CurrencyList" ng-selected="ProvisionExR==b.CurrencyID" value='{{b.CurrencyID}}'>{{b.CurrencyName}}</option>
                                        </select>
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2  reve_rate no-padding">
                                        <label class="headinglabel">Provision Ex. Rate</label>
                                        <input type="text" ng_model="ProexChangeRate" class="form-control textright" id="ProvisionExRate" placeholder="Provision Ex Rate" />
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2 reve_rate no-padding">
                                        <label class="headinglabel lc_sal">Provision (LC)</label>
                                        <input type="text" ng-model="ProvisionDomestic" class="form-control textright" id="ProvisiDomestic" placeholder="Provision Domestic" />
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2  reve_rate no-padding">
                                        <label class="headinglabel fc_sal">Provision (FC)</label>
                                        <input type="text" ng-model="ProvisionForeign" class="form-control textright" id="ProvisionForeign" placeholder="Provision Foreign" />
                                    </div>

                                    <div class="col-xs-6 col-sm-2 col-md-2 reve_wid no-padding">
                                        <label class="headinglabel">Margin</label>
                                        <input type="number" class="form-control textright bg-gray" ng-model="Quantity" id="margin" placeholder="Margin" readonly />
                                    </div>
                                </div>
                               
                                <div class="row no-margin" style="padding-top: 10px">
                                    <div class="col-xs-6 col-sm-4 col-md-4 note_ls no-padding">
                                        <div class="notice">
                                            <ul>
                                                <li>
                                                    <p class="lc_pro"> (LC) - Local Currency</p>
                                                </li>
                                                <li>
                                                    <p class="fc_pro"> (FC) - Foreign Currency</p>
                                                </li>
                                            </ul>

                                        </div>
                                    </div>

                                    <div class="col-xs-6 col-sm-1 col-md-1 rev_uni no-padding">
                                        <label class="headinglabel">Tax%</label>
                                        <input type="number" class="form-control textright" ng-model="Quantity" id="tax" placeholder="TAX" />
                                    </div>
                                    <div class="col-xs-6 col-sm-1 col-md-1 rev_uni no-padding">
                                        <label class="headinglabel">Tax Amt.</label>
                                        <input type="number" class="form-control textright" ng-model="unit" id="taxamt" placeholder="Tax Amount" />
                                    </div>

                                    <div class="col-xs-6 col-sm-2 col-md-2 reve_rate no-padding">
                                        <label class="headinglabel">Sales Rate</label>
                                        <input type="number" class="form-control textright" id="SalRate" ng_model="SaleRate" placeholder="Rate" ng_change="CalcSaleForeign()" />
                                    </div>

                                    <div class="col-xs-6 col-sm-2 col-md-2 reve_rate  no-padding">
                                        <label class="headinglabel">Sales Currency</label>
                                        @*     @Html.DropDownList("SalesCurrency", (SelectList)ViewBag.Curency, "", new { ng_selected = "SalesCurrencyID1", ng_model = "SalesExR", ng_change = "getSalesCurEx()", @class = "form-control" })*@
                                        <select ng-model="SalesExR" id="SalesExR" class="form-control" ng_change="getSalesCurEx()">
                                            <option value='0'>Select</option>
                                            @* <option ng-repeat="b in CurrencyList" value='{{b.CurrencyID}}'>{{b.CurrencyName}}</option>*@
                                            <option ng-repeat="b in CurrencyList" ng-selected="SalesCurrencyID==b.CurrencyID" value='{{b.CurrencyID}}'>{{b.CurrencyName}}</option>
                                        </select>

                                    </div>

                                    <div class="col-xs-6 col-sm-2 col-md-2 reve_rate no-padding">
                                        <label class="headinglabel">Sales Ex. Rate</label>
                                        <input type="text" ng-model="SaleexChangeRate" class="form-control textright" id="SalesExRate" placeholder="Sales Ex Rate" />
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2 reve_rate no-padding">
                                        <label class="headinglabel lc_sal">Sales (LC)</label>
                                        <input type="text" ng-model="SalesDomestic" class="form-control textright" id="SalesDomestic" placeholder="Sales Domestic" />
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2 reve_rate no-padding">
                                        <label class="headinglabel fc_sal">Sales (FC)</label>
                                        <input type="text" ng-model="SalesForeign" class="form-control textright" id="SalesForeign" placeholder="Sales Foreign" />
                                    </div>





                                    <div class="col-xs-6 col-sm-1 col-md-1 reve_uni no-padding" style="text-align: right; margin-top: 21px;">
                                        <input type="button" id="add_charges" ng-click="addCharges()" value="Add" class="btn btn-primary btnwidth" />
                                    </div>
                                </div>
                                    <script>
                                        function openNav() {
                                            $("#myNav").css("display", "block");
                                            $("#charges_table").css("position", "fixed");
                                            $("#charges_table").css("top", "200px");
                                            $("#charges_table").css("left", "0px");
                                            $("#charges_table").css("z-index", "11");
                                            $("#charges_table").css("background-color", "white");
                                            $("#provin_rate").css("display", "block");
                                            $("#provin_curr").css("display", "block");
                                            $("#provinex_rate").css("display", "block");
                                            $("#provin_forgin").css("display", "block");
                                            $("#sale_rate").css("display", "block");
                                            $("#sale_curr").css("display", "block");
                                            $("#sale_exrate").css("display", "block");
                                            $("#sale_for").css("display", "block");
                                        
                                           
                                        }

                                        function closeNav() {
                                            $("#myNav").css("display", "none");
                                            $("#charges_table").css("position", "relative");
                                            $("#charges_table").css("top", "unset");
                                            $("#charges_table").css("left", "unset");
                                            $("#charges_table").css("z-index", "1");
                                            $("#provin_rate").css("display", "none");
                                            $("#provin_curr").css("display", "none");
                                            $("#provinex_rate").css("display", "none");
                                            $("#provin_forgin").css("display", "none");
                                            $("#sale_rate").css("display", "none");
                                            $("#sale_curr").css("display", "none");
                                            $("#sale_exrate").css("display", "none");
                                            $("#sale_for").css("display", "none");
                                          
                                        }
                                    </script>

                                    <div id="myNav" class="overlay">
                                        <a href="javascript:void(0)" class="closebtn" style="color:white;z-index:10;" onclick="closeNav()">&times;</a>
                                    </div>


                                    <div class="row no-margin" id="AddCharges" style="padding-top: 10px">
                                        <div class="col-xs-12 no-padding for-device">
                                            <div class="data-table tblbackground" style="width:100%; padding: 27px;">

                                                @*  <div class="heading">

                        <div class="title1">Revenue Type</div>
                        <div class="title2">Supplier Name</div>
                        <div class="title3">Quantity</div>
                        <div class="title4">Provision Currency</div>
                        <div class="title5">Provision Ex. Rate</div>
                        <div class="title6">Provision Domestic</div>
                        <div class="title7">Provision Foreign</div>
                        <div class="title8">Sales Currency</div>
                        <div class="title9">Sales Ex. Rate</div>
                        <div class="title10">Sales Domestic</div>
                        <div class="title11">Sales Foreign</div>
                        <div class="title12">Local Currency</div>

                    </div>*@

                                                <div class="ico_cla"><span style="font-size:15px;cursor:pointer" onclick="openNav()"><i class="fa fa-expand" aria-hidden="true"></i></span></div>

                                                <div class="data" style="overflow:auto;">
                                                    <table border="1" class="table table-responsive table-bordered " id="charges_table">
                                                       
                                                            <tr>
                                                                <td width="20%">
                                                                    Revenue Type
                                                                </td>
                                                                <td width="30%">Supplier Name</td>
                                                                <td width="1%">
                                                                    Quantity
                                                                </td>
                                                                <td width="5%">
                                                                    Unit
                                                                </td>
                                                                <td id="provin_rate">
                                                                    Provision Rate
                                                                </td>
                                                                <td id="provin_curr">
                                                                    Provision Currency
                                                                </td>
                                                                <td id="provinex_rate">
                                                                    Provision Ex. Rate
                                                                </td>
                                                                <td width="10%" class="lc_pro">
                                                                    <p class="lc_pro"> Provision LC</p>
                                                                </td>
                                                                <td id="provin_forgin">
                                                                    Provision FC
                                                                </td>
                                                                <td id="sale_rate">
                                                                    Sales Rate
                                                                </td>
                                                                <td id="sale_curr">
                                                                    Sales Currency
                                                                </td>
                                                                <td id="sale_exrate">
                                                                    Sales Ex. Rate
                                                                </td>
                                                                <td width="10%" class="lc_pro">
                                                                    <p class="lc_pro">   Sales LC</p>
</td>
                                                                <td width="10%" class="fc_pro">
                                                                    <p class="fc_pro">Sales FC</p>
                                                                </td>
                                                                <td width="5%">
                                                                    Tax %
                                                                </td>
                                                                <td width="6%">
                                                                    Tax Amt
                                                                </td>
                                                                <td width="12%">
                                                                    Margin
                                                                </td>
                                                                <td> Action</td>

                                                            </tr>

                                                        

                                                    </table>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                        </div>
                    </div>
                    <div id="tabs-2">
                        <div class="panel-body shadowbr">
                            <div class="inner-tab-content">
                                <div class="row no-margin">
                                    <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                        <label class="headinglabel">Mark</label>
                                        <input type="text" ng-model="Mark" class="form-control txttarget" id="Mark" placeholder="Mark" style="text-align: left" />
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                        <label class="headinglabel">Description</label>
                                        <input type="text" ng-model="CarDescription" class="form-control txttarget" id="Description" placeholder="Description" style="text-align: left" />
                                    </div>

                                    <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                        <label class="headinglabel">Weight</label>
                                        <input type="number" ng-model="weight" class="form-control textright" id="weight" placeholder="weight" />
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                        <label class="headinglabel">Volume</label>
                                        <input type="number" ng-model="volume" class="form-control textright" id="volume" placeholder="volume" />
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                        <label class="headinglabel">Packages</label>
                                        <input type="number" ng-model="Packages" class="form-control textright" id="Packages" placeholder="Packages" />
                                    </div>
                                    <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                        <label class="headinglabel">Gross Weight</label>
                                        <input type="number" ng-model="GrossWeight" class="form-control textright" id="GrossWeight" placeholder="GrossWeight" />
                                    </div>
                                </div>
                            </div>
                            <div class="row no-margin border1px" style="padding-top: 10px">
                                <div class="col-xs-12 no-padding" style="text-align: right">
                                    <input type="button" id="add_cargo" data-ng-click="addCargoDesc()" value="Add" class="btn btn-primary btnwidth" />
                                </div>
                            </div>

                            <div class="row no-margin" id="AddCargo" style="padding-top: 10px">
                                <div class="col-xs-12 no-padding for-device">
                                    <div class="data-table tblbackground" style="padding: 27px;">

                                        <div class="data" style="overflow:auto;">
                                            <table border="1" class="table table-responsive table-bordered " style="width: 100%" id="cargo_table">
                                                <tr>
                                                    <td>Mark</td>
                                                    <td>Description</td>
                                                    <td>Weight</td>
                                                    <td>Volume</td>
                                                    <td>Packages</td>
                                                    <td>Gross Weight</td>
                                                    <td>Delete</td>
                                                </tr>
                                                <tr ng-repeat="CD in CargoDescription">

                                                    <td>
                                                        <div class="data1">
                                                            <input type="text" title="{{CD.Mark}}" value="{{CD.Mark}}" name="Mark_{{$index}}" id="Mark_{{$index}}" />
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="data2">
                                                            <input type="text" title="{{CD.Description}}" value="{{CD.Description}}" name="CarDescription_{{$index}}" id="CarDescription_{{$index}}" />
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="data3 textright">
                                                            <input type="text" style="width:80px;" title="{{CD.weight}}" value="{{CD.weight}}" name="weight_{{$index}}" id="weight_{{$index}}" />
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="data4 textright">
                                                            <input type="text"  style="width:80px;" title="{{CD.volume}}"  value="{{CD.volume}}" name="volume_{{$index}}" id="volume_{{$index}}" />
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="data5 textright">
                                                            <input type="text"  style="width:80px;" title="{{CD.Packages}}" value="{{CD.Packages}}" name="Packages_{{$index}}" id="Packages_{{$index}}" />
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="data6 textright">
                                                            <input type="text"  style="width:80px;" title="{{CD.GrossWeight}}" value="{{CD.GrossWeight}}" name="GrossWeight_{{$index}}" id="GrossWeight_{{$index}}" />
                                                        </div>
                                                    </td>
                                                    <td><a href="javascript:void(0)" onclick="deleteRow(this)"><i class="fa fa-times-circle"></i></a></td>

                                                </tr>
                                            </table>
                                        </div>
                                    </div>


                                </div>
                            </div>

                        </div>

                    </div>
                    <div id="tabs-3">
                        <div class="panel-body shadowbr">
                            <div class="row no-margin">
                                <div class="col-xs-6 col-sm-3 col-md-3 no-padding">
                                    <label class="headinglabel">Container Type</label>
                                    <select ng-model="ContainerTypeID" id="ContainerTypeID" class="form-control" ng-change="getContainers()">
                                        <option value='0'>Select</option>
                                        <option ng-repeat="b in ContainerTypeList" ng-selected="ContainerTypeID==b.ContainerTypeID" value='{{b.ContainerTypeID}}'>{{b.ContainerType}}</option>
                                    </select>

                                </div>

                                <div class="col-xs-6 col-sm-3 col-md-3 no-padding">
                                    <label class="headinglabel">Container No</label>
                                    <input type="text" class="form-control txttarget" ng-model="ContainerNo" id="ContainerNo" placeholder="Container No" />

                                </div>
                                <div class="col-xs-6 col-sm-3 col-md-3 no-padding">
                                    <label class="headinglabel">Seal No</label>
                                    <input type="text" class="form-control textright" ng-model="SealNo" id="SealNo" placeholder="Seal No" />
                                </div>
                                <div class="col-xs-6 col-sm-3 col-md-3 no-padding">
                                    <label class="headinglabel">Description</label>
                                    <input type="text" class="form-control textright" ng-model="ContainerDescription" id="ContainerDescription" placeholder="Description" />
                                </div>
                            </div>
                            <div class="row no-margin border1px" style="padding-top: 10px">
                                <div class="col-xs-12 no-padding" style="text-align: right">
                                    <input type="button" id="add_container" data-ng-click="addContainerDetails()" value="Add" class="btn btn-primary btnwidth" />
                                </div>
                            </div>
                            <div class="row no-margin" id="AddContainer" style="padding-top: 10px">
                                <div class="col-xs-12 no-padding for-device">
                                    <div class="data-table tblbackground" style="padding:27px">

                                        <div class="data" style="max-width:800px;overflow:auto;">
                                            <table border="1" class="table table-responsive table-bordered " style="width: 100%" id="container_table">
                                                <tr>
                                                    <td>Container Type</td>
                                                    <td>Container No</td>
                                                    <td>Seal No</td>
                                                    <td>Description</td>
                                                    <td>Delete</td>
                                                </tr>
                                                   <tr ng-repeat="C in Containers">
                                                    <td>
                                                        <div class="data1">
                                                            <input type="text" value="{{C.ContainerType}}" name="ContainerType_{{$index}}" id="ContainerType_{{$index}}" />
                                                            <input type="hidden" value="{{C.ContainerTypeID}}" name="ContainerTypeID_{{$index}}" id="ContainerTypeID_{{$index}}" />
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="data2">
                                                            <input type="text" value="{{C.ContainerNo}}" name="ContainerNo_{{$index}}" id="ContainerNo_{{$index}}" />
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="data3 textright">
                                                            <input type="text" value="{{C.SealNo}}" name="SealNo_{{$index}}" id="SealNo_{{$index}}" />   
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="data4 textright">
                                                            <input type="text" value="{{C.Description}}" name="ContainerDescription_{{$index}}" id="ContainerDescription_{{$index}}" />     
                                                        </div>
                                                    </td>
                                                    <td><a href="javascript:void(0)" onclick="deleteRow(this)"><i class="fa fa-times-circle"></i></a></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>


                                </div>
                            </div>

                        </div>
                    </div>
                    <div id="tabs-4">
                        <div class="panel-body shadowbr">
                            <div class="row no-margin" id="AddCustoms" style="padding-top: 10px">
                                <div class="col-xs-12 col-sm-6 col-md-6 no-padding">
                                    <label class="headinglabel">IPT No.</label>
                                    @Html.TextBoxFor(m => m.IPTNo, new { id = "IPTNo", @class = "form-control", autocomplete = "off" })

                                    <br />
                                    <label class="headinglabel">Customer Ref. No.</label>
                                    @Html.TextBoxFor(m => m.RefNo, new { id = "RefNo", @class = "form-control", autocomplete = "off"})

                                    <br />
                                    <label class="headinglabel">Rotation No.</label>
                                    @Html.TextBoxFor(m => m.RotationNo, new { id = "RotationNo", @class = "form-control", autocomplete = "off" })

                                    <br />
                                    <label class="headinglabel">BL Date</label>
                                    @if (Model.BLDate != null)
                                    {

                                        @Html.TextBoxFor(m => m.BLDate, "{0:dd-MMM-yyyy}", new { id = "BLDate", @class = "form-control", autocomplete = "off" })
                                        @Html.ValidationMessageFor(model => model.BLDate)
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(m => m.BLDate, new { id = "BLDate", @class = "form-control", autocomplete = "off" })
                                        @Html.ValidationMessageFor(model => model.BLDate)
                                    }


                                    <br />
                                    <label class="headinglabel">DO Date</label>
                                    @if (Model.DeliveryOrderDate != null)
                                    {
                                        @Html.TextBoxFor(m => m.DeliveryOrderDate , "{0:dd-MMM-yyyy}" ,new { id = "DeliveryOrderDate", @class = "form-control", autocomplete = "off" })
                                        @Html.ValidationMessageFor(model => model.DeliveryOrderDate)
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(m => m.DeliveryOrderDate, new { id = "DeliveryOrderDate", @class = "form-control", autocomplete = "off" })
                                        @Html.ValidationMessageFor(model => model.DeliveryOrderDate)
                                    }
                                    <br />
                                    <label class="headinglabel">Delivery Order No.</label>
                                    @Html.TextBoxFor(m => m.DeliveryOrderNo, new { value = Model.DeliveryOrderNo, id = "DeliveryOrderNo", @class = "form-control", autocomplete = "off" })

                                    <br />
                                    <label class="headinglabel">Country Of Orgin</label>
                                    @Html.DropDownListFor(model => model.CountryofOriginID, (SelectList)ViewBag.Countries, "Select", new { @class = "form-control", @readonly = "readonly" })

                                    <br />
                                </div>
                                <div class="col-xs-12 col-sm-6 col-md-6 no-padding">
                                    <label class="headinglabel">MRN</label>
                                    @Html.TextBoxFor(m => m.MRN, new { id = "MRN", @class = "form-control", autocomplete = "off" })

                                    <br />
                                    <label class="headinglabel">CLF Value</label>
                                    @Html.TextBoxFor(m => m.CLFValue, new { id = "CLFValue", @class = "form-control", autocomplete = "off" })

                                    <br />
                                    <label class="headinglabel">Deposit Amount</label>
                                    @Html.TextBoxFor(m => m.DepositAmount, new { id = "DepositAmount", @class = "form-control textright", autocomplete = "off" })

                                    <br />
                                    <label class="headinglabel">Deposit Date</label>
                                    @if (Model.DepositDate != null)
                                    {
                                        @Html.TextBoxFor(m => m.DepositDate, "{0:dd-MMM-yyyy}", new { id = "DepositDate", @class = "form-control", autocomplete = "off" })
                                        @Html.ValidationMessageFor(model => model.DepositDate)
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(m => m.DepositDate, new { id = "DepositDate", @class = "form-control", autocomplete = "off"})
                                        @Html.ValidationMessageFor(model => model.DepositDate)
                                    }
                                    <br />
                                    <label class="headinglabel">Receipt No</label>
                                    @Html.TextBoxFor(m => m.ReceiptNo, new { id = "ReceiptNo", @class = "form-control", autocomplete = "off"})

                                    <br />
                                    <label class="headinglabel">Refund Date</label>
                                    @if (Model.RefundDate != null)
                                    {
                                        @Html.TextBoxFor(m => m.RefundDate, "{0:dd-MMM-yyyy}", new { id = "RefundDate", @class = "form-control", autocomplete = "off" })
                                        @Html.ValidationMessageFor(model => model.RefundDate)
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(m => m.RefundDate, new { id = "RefundDate", @class = "form-control", autocomplete = "off" })
                                        @Html.ValidationMessageFor(model => model.RefundDate)
                                    }
                                    <br />
                                    <label class="headinglabel">Refund Amount</label>
                                    @Html.TextBoxFor(m => m.RefundAmount, new { id = "RefundAmount", @class = "form-control textright", autocomplete = "off" })

                                </div>
                            </div>
                        </div>
                    </div>
                 
                    <div id="tabs-6">
                        <div class="panel-body shadowbr" >
                            <div class="inner-tab-content">
                                <div class="row no-margin">
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">Bill Of Entry</label>

                                        @Html.TextBox("BIllOfEntry", "", new { ng_model = "BIllOfEntry", @class = "form-control txttarget", @autocomplete = "off", placeholder = "Bill Of Entry", id = "BillOfEntry" })
                                    </div>
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">Bill Of Entry Date</label>
                                        @Html.TextBox("BillofEntryDate", "", new { ng_model = "BillofEntryDate", @class = "form-control txttarget", @autocomplete = "off", placeholder = "Bill Of Entry Date", id = "BillofEntryDate" })
                                        
                                    </div>
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">Shipping Agent</label>
                                        @Html.DropDownList("ShippingAgent", (SelectList)ViewBag.ShippingA, "Select", new { ng_model = "ShippingAgentID", @class = "form-control" , id= "ShippingAgentID" })

                                    </div>
                                </div>
                                <div class="row no-margin border1px" style="padding-top: 10px">
                                    <div class="col-xs-12 no-padding" style="text-align: right">
                                        <input type="button" id="add_bill" value="Add" ng-click="addBillOfEntry()" class="btn btn-primary btnwidth" />
                                    </div>
                                </div>
                                <div class="row no-margin" id="AddBill" style="padding-top: 10px">
                                    <div class="col-xs-12 no-padding for-device">
                                        <div class="data-table tblbackground" style="padding:27px;">
                                            @*<div class="heading">
                                    <div class="title1">Bill Of Entry</div>
                                    <div class="title2">Bill Of Entry Date</div>
                                    <div class="title3">Shipping Agent</div>
                                </div>*@
                                            <div class="data">

                                                <table border="1" class="table table-responsive table-bordered " style="width: 100%" id="bill_of_entry_table">
                                                    <tr>
                                                        <td>
                                                            Bill Of Entry
                                                        </td>
                                                        <td>Bill Of Entry Date</td>
                                                        <td>Shipping Agent</td>
                                                        <td>Delete</td>
                                                    </tr>
                                                    <tr ng-repeat="B in Billing">
                                                        <td>
                                                            <div class="data1">

                                                                <input type="text" value="{{B.BIllOfEntry}}" name="BIllOfEntry_{{$index}}" id="BIllOfEntry_{{$index}}" />   
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="data2">
                                                                <input type="text" value="{{B.BillofEntryDate | date : 'dd-MMM-yyyy'}}" name="BillofEntryDate_{{$index}}" id="BillofEntryDate_{{$index}}" />
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="data3">
                                                                <input type="text" value="{{B.AgentName}}" name="AgentName_{{$index}}" id="AgentName_{{$index}}" />
                                                                <input type="hidden" value="{{B.ShippingAgentID}}" name="ShippingAgentID_{{$index}}" id="ShippingAgentID_{{$index}}" />
                                                            </div>
                                                        </td>
                                                        <td><a href="javascript:void(0)" onclick="deleteRow(this)"><i class="fa fa-times-circle"></i></a></td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="tabs-5">
                        <div class="panel-body shadowbr">
                            <div class="inner-tab-content">
                                <div class="row no-margin">
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">Vessel</label>
                                        @Html.DropDownListFor(model => model.VesselID, (SelectList)ViewBag.Vessels, "Select", new { @class = "form-control", @readonly = "readonly" })
                                        
                                    </div>
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">Voyage No.</label>
                                        @Html.TextBoxFor(m => m.VoyageNo, new { id = "VoyageNo", @class = "form-control", autocomplete = "off", placeholder= "Voyage No" })

                                    </div>
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">MBL</label>
                                        @Html.TextBoxFor(m => m.MBL, new { id = "MBL", @class = "form-control", autocomplete = "off", placeholder = "MBL" })
                                        

                                    </div>
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">HBL</label>
                                        @Html.TextBoxFor(m => m.HBL, new { id = "HBL", @class = "form-control", autocomplete = "off", placeholder = "HBL" })
                                        

                                    </div>
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">BL Status</label>
                                        @Html.TextBoxFor(m => m.BLStatus, new { id = "BLStatus", @class = "form-control", autocomplete = "off", placeholder = "BL Status" })
                                        
                                    </div>
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">Freight</label>
                                        @Html.TextBoxFor(m => m.Freight, new { id = "Freight", @class = "form-control", autocomplete = "off", placeholder = "Freight" })
                                        

                                    </div>
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">Sailing Date</label>
                                        @if (Model.SailingDate != null)
                                        {
                                            @Html.TextBoxFor(m => m.SailingDate, "{0:dd-MMM-yyyy}", new { id = "SailingDate", @class = "form-control", autocomplete = "off", placeholder = "Sailing Date" })
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.SailingDate, new { id = "SailingDate", @class = "form-control", autocomplete = "off", placeholder = "Sailing Date" })
                                        }

                                    </div>
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">Arrival Date</label>
                                        @if (Model.ArrivalDate != null)
                                        {
                                            @Html.TextBoxFor(m => m.ArrivalDate, "{0:dd-MMM-yyyy}" , new { id = "ArrivalDate", @class = "form-control", autocomplete = "off", placeholder = "Arrival Date" })
                                            @Html.ValidationMessageFor(model => model.ArrivalDate)
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.ArrivalDate, new { id = "ArrivalDate", @class = "form-control", autocomplete = "off", placeholder = "Arrival Date" })
                                            @Html.ValidationMessageFor(model => model.ArrivalDate)
                                        }

                                    </div>
                                    <div class="col-xs-6 col-sm-4 no-padding">
                                        <label class="headinglabel">Carrier</label>
                                         @Html.DropDownList("CarrierID", (SelectList)ViewBag.Carriers, "Select", new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            </div>
                            </div>

                            <div id="tabs-7">
                                <div class="panel-body shadowbr">
                                    <div class="inner-tab-content">
                                        <div class="row no-margin">
                                            <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                                <label class="headinglabel">Transporter</label>
                                                @Html.DropDownListFor(model => model.TransporterID, (SelectList)ViewBag.Transporters, "Select", new { @class = "form-control" })
                                                @Html.ValidationMessageFor(model => model.TransporterID)
                                            </div>
                                            <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                                <label class="headinglabel">Delivery Date</label>

                                                @if (Model.DeliveryDate != null)
                                        {

                                            @Html.TextBoxFor(m => m.DeliveryDate, "{0:dd-MMM-yyyy}", new { id = "", @class = "form-control" , autocomplete="off" })
                                                    @Html.ValidationMessageFor(model => model.DeliveryDate)
                                                }
                                                else
                                                {
                                                    @Html.TextBoxFor(model => model.DeliveryDate, new { @class = "form-control" , autocomplete = "off" })
                                                    @Html.ValidationMessageFor(model => model.DeliveryDate)
                                                }


                                            </div>
                                            <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                                <label class="headinglabel">Delivery Note No</label>
                                                @Html.TextBoxFor(model => model.DeliveryNote, new { @class = "form-control textright" })
                                                @Html.ValidationMessageFor(model => model.DeliveryNote)
                                            </div>
                                            <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                                <label class="headinglabel">Delivery</label>
                                                @Html.TextBoxFor(model => model.DeliveryInstructions, new { @class = "form-control txttarget" })
                                                @Html.ValidationMessageFor(model => model.DeliveryInstructions)
                                            </div>
                                            <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                                <label class="headinglabel">Delivery Point</label>
                                                @Html.TextBoxFor(model => model.DeliveryPoint, new { @class = "form-control txttarget" })
                                                @Html.ValidationMessageFor(model => model.DeliveryPoint)
                                            </div>
                                            <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                                <label class="headinglabel">Truck Reg No</label>
                                                @Html.TextBoxFor(model => model.TruckRegNo, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(model => model.TruckRegNo)
                                            </div>
                                        </div>

                                        <div class="row no-margin" style="padding-top: 20px; width: 120%">
                                            <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                                <label class="headinglabel">Collection Date</label>
                                                @if (Model.CollectionDate != null)
                                        {

                                            @Html.TextBoxFor(m => m.CollectionDate, "{0:dd-MMM-yyyy}", new { id = "", @class = "form-control" })
                                                    @Html.ValidationMessageFor(model => model.CollectionDate)
                                                }
                                                else
                                                {
                                                    @Html.TextBoxFor(model => model.CollectionDate, new { @class = "form-control" })
                                                    @Html.ValidationMessageFor(model => model.CollectionDate)
                                                }

                                            </div>
                                            <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                                <label class="headinglabel">Collection Point</label>
                                                @Html.TextBoxFor(model => model.CollectionPoint, new { @class = "form-control txttarget" })
                                                @Html.ValidationMessageFor(model => model.CollectionPoint)
                                            </div>
                                            <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                                <label class="headinglabel">Collection Instructions</label>
                                                @Html.TextBoxFor(model => model.CollectionInstructions, new { @class = "form-control txttarget" })
                                                @Html.ValidationMessageFor(model => model.CollectionInstructions)
                                            </div>
                                            <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                                <label class="headinglabel">Driver Details</label>
                                                @Html.TextBoxFor(model => model.DriverDetails, new { @class = "form-control txttarget" })
                                                @Html.ValidationMessageFor(model => model.DriverDetails)
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                            <div id="tabs-8" style="float:left;">
                                <div class="panel-body shadowbr">
                                    <div class="row no-margin">
                                        <div class="col-xs-6 col-sm-6 col-md-6 no-padding">
                                            <label class="headinglabel">Date</label>
                                            <input ng-model="TransDate" class="form-control" id="TransDate" autocomplete="off" placeholder="Date" />
                                        </div>

                                        <div class="col-xs-6 col-sm-6 col-md-6 no-padding">
                                            <label class="headinglabel">Remarks</label>
                                            <input type="text" class="form-control txttarget" ng-model="Remarks" id="NotificationRemarks" placeholder="Remarks" />

                                        </div>
                                    </div>
                                    <div class="row no-margin border1px" style="padding-top: 10px">
                                        <div class="col-xs-12 no-padding" style="text-align: right">
                                            <input type="button" id="add_notification" data-ng-click="addAuditDet()" value="Add" class="btn btn-primary btnwidth" />
                                        </div>
                                    </div>
                                    <div class="row no-margin" id="AddNotification" style="padding-top: 10px">
                                        <div class="col-xs-12 no-padding for-device">
                                            <div class="data-table tblbackground" style="padding:27px;">

                                                <div class="data">
                                                    <table border="1" class="table table-responsive table-bordered " style="width: 100%" id="audit_table">
                                                        <tr>
                                                            <td>Date</td>
                                                            <td>Remarks</td>
                                                            <td>Delete</td>
                                                        </tr>
                                                        <tr ng-repeat="a in Auditing">
                                                            <td>
                                                                <div class="data1">
                                                                    <input type="text" value="{{a.TransDate | date : 'dd-MMM-yyyy'}}" name="AuditTransDate_{{$index}}" id="AuditTransDate_{{$index}}" />
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="data2">
                                                                    <input type="text" value="{{a.Remarks}}" name="AuditRemarks_{{$index}}" id="AuditRemarks_{{$index}}" />
                                                                </div>
                                                            </td>
                                                            <td><a href="javascript:void(0)" onclick="deleteRow(this)"><i class="fa fa-times-circle"></i></a></td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>


                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="row no-margin">
                            <div class="col-md-12">
                                <div class="panel-group" id="panel-894775">
                                </div>
                            </div>
                        </div>
                        <div class="row no-margin remarks">
                            <div class=" col-md-5">
                                <label class="  headinglabel">Remarks</label>
                                @Html.TextAreaFor(model => model.Remarks, new { @class = "form-control txttarget" })
                                @Html.ValidationMessageFor(model => model.Remarks)
                            </div>
                            <div class=" col-md-2"></div>
                            <div class=" col-md-5">
                                <label class="  headinglabel">
                                    Terms of Shipments
                                </label>
                                @Html.TextAreaFor(model => model.shippingInstruction, new { @class = "form-control txttarget" })
                                @Html.ValidationMessageFor(model => model.shippingInstruction)
                            </div>

                        </div>
                        <div class="row no-margin buttons" style="padding-top: 10px">
                            <div class="col-md-12 align-right" style="text-align: left">
                                @{ if (Model.JobID > 0)
                                    {
                                        <input type="submit" name="Command" value="Update" class="btn btn-primary btnwidth" />
                                    }
                                    else
                                    {
                                        <input type="submit" name="Command" value="Save" ng-click="GenerateInvoice()" class="btn btn-primary btnwidth" id="btnSave" />
                                    }

                                }
                                &nbsp;
                                <a href='@Url.Action("JobDetails", "Job", new { id = 0 })' class="btn btn-primary btnwidth">Cancel</a>
                                &nbsp;
                                @{ if (Model.JobID > 0)
                                    {


                                        if (ViewBag.IsInvoiveGenerated != null)
                                        {
                                            if ((bool)ViewBag.IsInvoiveGenerated == false)
                                            {
                                                <input type="button" value="Generate Invoice" onclick="return AddInvoiceNumber();" class="btn btn-primary" style="width: 120px" />
                                            }
                                        }
                                        else
                                        {
                                            <input type="button" value="Generate Invoice" onclick="return AddInvoiceNumber();" class="btn btn-primary" style="width: 120px" />
                                        }
                                    }
                                }



                            </div>
                        </div>
                        <div id="wrapper">
                            <div id="page-wrapper">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="modal fade" id="InvoiceModal" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">

                                                    <div class="modal-header" style="background-color: #f5f5f5;">
                                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

                                                        <h4 class="modal-title" id="exampleModalLabel">
                                                            <img src="~/Content/img/ipeak.png" /><span style="font-size: 14px; color: #3c8dbc !important; font-size: 14px">Generate Invoice</span>
                                                        </h4>
                                                    </div>

                                                    <div class="modal-body">
                                                        <div class="container-fluid">
                                                            <div class="row" style="padding-top: 5px">
                                                                <div class="col-sm-12">
                                                                    <div class="row">
                                                                        <div class="col-xs-5 col-sm-3">
                                                                            Invoice Date
                                                                        </div>
                                                                        <div class="col-xs-7 col-sm-4">
                                                                            @Html.TextBoxFor(m => m.InvoiceDate, "{0:dd-MMM-yyyy}", new { id = "", @class = "form-control" })
                                                                            @*  @Html.TextBoxFor(model => model.InvoiceDate, new { @class = "form-control" })*@
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-xs-5 col-sm-3">
                                                                            Invoice No
                                                                        </div>
                                                                        <div class="col-xs-7 col-sm-4">
                                                                            @Html.TextBoxFor(model => model.InvoiceNo, new { @class = "form-control" })

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="modal-footer" style="padding-top: 5px">
                                                        <input type="hidden" id="hdnCountryID" />
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" tabindex="6">Close</button>
                                                        <button type="submit" name="Command" value="SaveInvoice" class="btn btn-primary" tabindex="5" id="Button1">Save</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

</section>
        }
    </div>

</div>
<link href="~/Content/themes/base/minified/jquery-ui.min.css" rel="stylesheet" />
