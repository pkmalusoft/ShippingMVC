@model DAL.JobGeneration

@{
    ViewBag.Title = "Job";
    Layout = "~/Views/Shared/_TrueBookMstr.cshtml";
    var isadd = true;
    var ismodify = true;
    string path = Request.Url.AbsolutePath.ToLower();

    if (Convert.ToInt32(Session["UserRoleID"]) > 1)
    {
        TrueBooksMVC.Models.SourceMastersModel obj = new TrueBooksMVC.Models.SourceMastersModel();
        isadd = obj.GetAddpermission(Convert.ToInt32(Session["UserRoleID"]), path);
        ismodify = obj.GetModifypermission(Convert.ToInt32(Session["UserRoleID"]), path);

    }
    var jobstatus = ViewBag.Jobstatus as IEnumerable<DAL.JobStatu>;
    var staffmodel = ViewBag.StaffNoteModel as IEnumerable<TrueBooksMVC.Models.StaffNoteModel>;
    var StatusModel = ViewBag.JobStatusModel as IEnumerable<TrueBooksMVC.Models.JobStatusModel>;
    var CustomerNotification = ViewBag.CustomerNotification as IEnumerable<TrueBooksMVC.Models.CustomerNotificationModel>;
    var CustomerDetails = ViewBag.CustomerDetail as DAL.CUSTOMER;
}
<style>

    .row div[class*=divisorColumn] {
        padding-left: 0;
        padding-right: 0;
    }

    .form-control2 {
        -webkit-appearance: none;
        margin-top: 10px;
        padding: 0px 1px !important;
        font-size: 10px !important;
        box-shadow: none;
        border-color: #d2d6de;
        display: block;
        width: 100%;
        height: 34px;
        line-height: 1.42857143;
        color: #555;
        background-color: #fff;
        background-image: none;
        border: 1px solid #ccc;
        -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
        box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
        -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
        -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
    }

    .ui-tabs-tab a {
        width: 100%;
    }

    .btnwidth {
        width: 70px;
    }


    .ico_cla {
        text-align: right;
    }

    .ui-widget {
        font-size: 10px !important;
    }

    .overlay {
        height: 100%;
        width: 100%;
        display: none;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: rgb(0,0,0);
        background-color: rgba(0,0,0, 0.9);
    }

    .table > tbody > tr > td, .table > tbody > tr > th, .table > tfoot > tr > td, .table > tfoot > tr > th, .table > thead > tr > td, .table > thead > tr > th {
        padding: 5px !important;
        line-height: 1.42857143;
        vertical-align: top;
        border-top: 1px solid #ddd;
    }

    .fulltablewidth {
        width: 100%;
        margin: 10px 13px !important;
        max-width: 1371px;
    }

    .smalltablewidth {
        width: 100%;
        margin: 0px !important;
    }

    /* .data10, data13, data14 {
        display: none;
    }*/
    /*  #provin_rate, #provin_curr, #provinex_rate, #provin_forgin, #sale_rate, #sale_curr, #sale_exrate {
        display: none;
    }*/
    .overlay-content {
        position: relative;
        top: 25%;
        width: 100%;
        text-align: center;
        margin-top: 30px;
    }

    .overlay a {
        padding: 8px;
        text-decoration: none;
        font-size: 36px;
        color: #818181;
        display: block;
        transition: 0.3s;
    }

        .overlay a:hover, .overlay a:focus {
            color: #f1f1f1;
        }

    .overlay .closebtn {
        position: absolute;
        top: 20px;
        right: 45px;
        font-size: 60px;
    }


    .modal-footer {
        text-align: left;
    }



    .ui-widget.ui-widget-content {
        border: 1px solid #c5c5c5;
        width: 100% !important;
    }



    .no-padding {
        padding: 5px 6px !important;
    }

    .float-right {
        left: 20%;
    }

    div#ui-datepicker-div {
        width: 300px !important;
    }

    .headinglabel {
        font-family: Calibri !important;
        display: inline;
        color: #000 !important;
    }

    .ui-tabs .ui-tabs-nav li {
        list-style: none;
        float: left;
        position: relative;
        top: 1px;
        margin: 7px auto;
        border-bottom: 0 !important;
        padding: 0;
        white-space: nowrap;
    }

    .shadowbr {
        background-color: #fff;
        border-radius: 25px;
        margin-bottom: 27px;
        padding: 20px 0;
    }

    .ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active {
        background: unset !important;
        background: #35b8eb !important;
    }

    .ui-widget-header {
        background: unset !important;
    }

    .ui-state-active a, .ui-state-active a:link, .ui-state-active a:visited {
        color: #ffffff !important;
        text-decoration: none;
    }

    .ui-state-hover, .ui-widget-content .ui-state-hover, .ui-widget-header .ui-state-hover, .ui-state-focus, .ui-widget-content .ui-state-focus, .ui-widget-header .ui-state-focus {
        background: unset !important;
        color: #fff !important;
        background: linear-gradient(135deg, #07a7e3 0%, #32dac3 100%) !important;
    }

    .ui-tabs .ui-tabs-nav li {
        list-style: none;
        float: left;
        position: relative;
        top: 1px;
        margin: 5px auto !important;
        border-bottom: 0 !important;
        padding: 0;
        white-space: nowrap;
        color: #fff !important;
    }

    .hideinsummary {
        display: none;
    }

    .showinfullview {
        display: table-cell;
    }

    textarea#CollectionPoint {
        height: 91px !important;
    }

    textarea#CollectionInstructions {
        height: 91px !important;
    }

    .reve_wid {
        width: 14% !important;
    }

    body .headinglabel {
        font-size: 14px !important;
    }

    .rev_uni {
        width: 7% !important;
    }

    .reve_rate {
        width: 8.8%;
    }

    .rev_unit {
        max-width: 96px;
    }

    .reve_rates {
        max-width: 15%;
    }

    @@media (min-width: 1700px) {
        body .jobform {
            min-width: 95% !important;
        }
    }
</style>
<script type="text/javascript">
    // When the document is ready
    $(document).ready(function () {

        $('.txtNum').blur(function () {
            if (isNaN(parseInt($(this).val()))) {
                $(this).val('0.00');
            } else {
                var amt = parseFloat($(this).val());
                $(this).val(amt.toFixed(2));
            }
        });

        $(".two-decimals").change(function () {
            this.value = parseFloat(this.value).toFixed(2);
        });

        $(".four-decimals").change(function () {
            this.value = parseFloat(this.value).toFixed(4);
        });

        $("#tabs").tabs().addClass("ui-tabs-vertical ui-helper-clearfix");
        $("#tabs li").removeClass("ui-corner-top").addClass("ui-corner-left");

        //$("#JobDate").datepicker().datepicker("setDate", new Date());
        $("#billofLadingSea").hide();
        $("#pkgdetails").hide();
        $("#containerdetails").hide();

        var startdate = '@Session["FyearFrom"].ToString()';
        var enddate = '@Session["FyearTo"].ToString()';
        var sd = new Date(startdate);
        var ed = new Date(enddate);

        $(function () {
            $("#TranDate").datepicker({
                dateFormat: 'dd-M-yy',
                changeYear: true, changeMonth: true,
                minDate: sd,
                maxDate: ed,
            });
        });

        $("#RevenueTypeID").change(function () {

            var taxpre = $('#RevenueTypeID option:selected').attr('tp');
            debugger;
            $("#tax").val(taxpre);

        });

        $('#TransDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#CollectionDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#DeliveryDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#ArrivalDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            //minDate: sd,
           // maxDate: ed,
        });

        $('#InvoiceDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#SailingDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });
        $('#DepartingDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#RefundDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#DeliveryOrderDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#DepositDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $('#BLDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });
        $('#DODate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });
        $('#BillofEntryDate').datepicker({
            dateFormat: 'dd-M-yy',
            changeYear: true, changeMonth: true,
            minDate: sd,
            maxDate: ed,
        });

        $("#drop").hide();
        $("#SubJob").attr('checked', false);

        $("#SubJob").change(function () {
            debugger;
            if ($("#SubJob").is(':checked')) {
                $("#drop").show();
            }
            else {
                $("#drop").hide();
            }
        });

        if ($('#SelectedMainJobID').val() != '' && $('#SelectedMainJobID').val() != '0') {
            if (parseInt($('#SelectedMainJobID').val()) > 0) {
                $('#SubJob').prop('checked', true);
                $('#drop').show();
                $('#MainJobId').val($('#SelectedMainJobID').val());
            }
        }

        //$("#btnSave").click(function () {
        //    $.ajax({
        //        type: "GET",
        //        url: "/Job/CheckForStatusSea",
        //        datatype: "Json",
        //        data: { jobtypeid: $('#JobTypeID option:selected').val() },
        //        success: function (data) {

        //            if (data.mystatus) {
        //                //alert("Hiii");
        //                //if ($("#VoyageNo").val() == "") {
        //                //    alert("Select Voyage No");
        //                //    return false;
        //                //}
        //                //else {
        //                //    return true;
        //                //}
        //                alert("Success");
        //            }
        //            else {
        //                //if ($("#weight").val() == "") {
        //                //    ("Enter Weight");
        //                //    return false;

        //                //}
        //                //else {
        //                //    return true;
        //                //}
        //                alert("Fail");
        //            }




        //        }
        //    });
        //});

    });


</script>

<script>
    var vactualJObcode = '';
    $(document).ready(function () {

        var flg = true;

        $("#MainJobID").change(function () {
            var total;
            $.ajax({
                type: "GET",
                url: "/Job/GetJobCodeByMainJobCode",
                datatype: "Json",
                data: { mainjobid: $('#MainJobID').val() },
                success: function (data) {
                    if (data) {
                        total = data.length;
                        total = total + 1;
                    }
                    if (total == 0)
                        total = 1;
                    $('#JobCode').val(vactualJObcode + '/' + total);

                }
            });
        });



        $("#btnSave").click(function () {

            $.ajax({
                type: "GET",
                url: "/Job/GetSeaStatus",
                datatype: "Json",
                data: { JobTypeID: $('#JobTypeID').val() },
                success: function (data) {


                    if (data == true) {

                        if ($("#VesselID option:selected").val() == "") {
                            alert("Please fill Vessel,It is mandatory fields in (Bill Of Lading) tab");
                            flg = false;

                        }
                        else if ($("#VoyageNo option:selected").val() == "") {
                            alert("Please fill Voyage,It s mandatory fields in (Bill Of Lading) tab");
                            flg = false;

                        }
                        else if ($("#ContainerNo").val() == "") {
                            alert("Please fill ContainerNo,It is mandatory fields in (Container) tab ");
                            flg = false;

                        }
                        else {
                            flg = true;

                        }

                    }

                }
            });

            if (flg == false) {
                return false;
            }
            else if (flg == true) {

                return true;
            }


        });


    });

    function AddInvoiceNumber() {
        if (confirm("Do you want to Generate Invoice?")) {
            $('#InvoiceModal').modal('show');
            return false;
        }
        else {
            return true;
        }

    }
</script>
<style>
    .panel-body {
        margin-bottom: 3px !important;
    }

    .ui-tabs-vertical {
        width: 55em;
    }

        .ui-tabs-vertical .ui-tabs-nav {
            padding: .2em .1em .2em .2em;
            float: left;
            width: 12em;
        }

            .ui-tabs-vertical .ui-tabs-nav li {
                clear: left;
                width: 100%;
                border-bottom-width: 1px !important;
                border-right-width: 0 !important;
                margin: 0 -1px .2em 0;
            }

                .ui-tabs-vertical .ui-tabs-nav li a {
                    display: block;
                }

                .ui-tabs-vertical .ui-tabs-nav li.ui-tabs-active {
                    padding-bottom: 0;
                    padding-right: .1em;
                    border-right-width: 1px;
                }

        .ui-tabs-vertical .ui-tabs-panel {
            padding: 1em;
        }

    .fc_sal {
        color: #f72323 !important;
    }

    .lc_sal {
        color: #1e60d8 !important;
    }



    .lc_pro {
        color: #0b1be2;
    }

    .fc_pro {
        color: #e60928;
    }

    #staffmodelbody {
        max-height: calc(100vh - 200px);
        overflow-y: auto;
    }
</style>
<script type="text/javascript">
    $(document).ready(function () {

        $(":text").css({ "border-radius": "5px" });
        $("select").css({ "border-radius": "5px" });
        $("textarea").css({ "border-radius": "5px" });
        $('input[type=number]').css({ "border-radius": "5px" });

        $("a.panel-title").click(function () {
            $(this).toggleClass('fa fa-caret-right fa fa-caret-down');
        });

        $("#JobTypeID").change(function () {
            $("#JobCode").val('');
            $.ajax({
                type: "GET",
                url: "/Job/GetSeaStatus",
                datatype: "Json",
                data: { JobTypeID: $('#JobTypeID').val() },
                success: function (data) {
                    if (data == true) {
                        $("#pkgdetails").hide();
                        $("#containerdetails").show();
                        $("#billofLadingSea").show();

                    }
                    else if (data == false) {
                        $("#pkgdetails").show();

                        $("#billofLadingSea").hide();
                        $("#containerdetails").hide();
                    }
                    getIsimportorExport();

                }
            });
        });



        $("#pkgdetails").hide();
        $("#containerdetails").hide();
        $("#billofLadingSea").hide();




    });
    function getIsimportorExport() {
        var jobtypeid = $("#JobTypeID").val();
        $.ajax({
            type: "GET",
            url: "/Job/GetJobModeByJobType",
            datatype: "Json",
            data: { JobTypeID: jobtypeid },
            success: function (data) {

                $("#LoadPortID").empty();
                $("#DestinationPortID").empty();
                $("#ReceiptPlaceID").empty();
                $("#DeliveryPlaceID").empty();
                var select = document.getElementById("LoadPortID");
                var selectop = document.createElement('option');
                selectop.text = "Select";
                selectop.value = "";
                select.add(selectop);
                for (var i = 0; i < data.loadport.length; i++) {
                    var option = document.createElement('option');
                    option.text = data.loadport[i].Port1;
                    option.value = data.loadport[i].PortID;
                    select.add(option);
                }
                var select1 = document.getElementById("DestinationPortID");
                var ReceiptPlaceID = document.getElementById("ReceiptPlaceID");
                var DeliveryPlaceID = document.getElementById("DeliveryPlaceID");
                var selectop1 = document.createElement('option');
                selectop1.text = "Select";
                selectop1.value = "";
                select1.add(selectop1);
                var selectop2 = document.createElement('option');
                selectop2.text = "Select";
                selectop2.value = "";
                select1.add(selectop2);
                var selectop3 = document.createElement('option');
                selectop3.text = "Select";
                selectop3.value = "";
                DeliveryPlaceID.add(selectop2);
                ReceiptPlaceID.add(selectop3);
                for (var i = 0; i < data.DestinationPort.length; i++) {
                    var option1 = document.createElement('option');
                    option1.text = data.DestinationPort[i].Port1;
                    option1.value = data.DestinationPort[i].PortID;
                    select1.add(option1);
                }
                for (var i = 0; i < data.loadport.length; i++) {
                    var option1 = document.createElement('option');
                    option1.text = data.loadport[i].Port1;
                    option1.value = data.loadport[i].PortID;
                    ReceiptPlaceID.add(option1);

                }
                for (var i = 0; i < data.DestinationPort.length; i++) {
                    var option1 = document.createElement('option');
                    option1.text = data.DestinationPort[i].Port1;
                    option1.value = data.DestinationPort[i].PortID;
                    DeliveryPlaceID.add(option1);
                }
            }

        });
    }
</script>
<script>
    $(document).ready(function () {
        $("#AddCargo").hide();
        $("#AddContainer").hide();
        $("#AddCharges").hide();
        $("#AddBill").hide();
        if ($("#add_cargo").click(function () {
            $("#AddCargo").show();
        }));
        if ($("#add_container").click(function () {

            $("#AddContainer").show();
        }));
        if ($("#add_charges").click(function () {

            $("#AddCharges").show();
        }));
        if ($("#add_bill").click(function () {

            $("#AddBill").show();
        }));
    });

    $("#ProvisionExRate").blur(function () {
        var wt = $(this).val();
        $("#ProvisionExRate").val(parseFloat(wt).toFixed(2));
    });
    $("#SalesExRate").blur(function () {
        var t = $(this).val();
        $("#SalesExRate").val(parseFloat(t).toFixed(2));
    });

    function validation() {
        var Flag = true;
        if ($('#txtJobCode').val() == "") {
            Flag = false;
        }

        if ($('#ddJobType').val() == 0) {
            Flag = false;
        }

        if ($('#JobDate').val() == "") {
            Flag = false;
        }

        if ($('#ddShipper').val() == "") {
            Flag = false;
        }
        return Flag;
    }
    function ShowJobstatusModel() {
        if ('@Model.JobID' > 0) {
            $("#jobstatusmodal").modal('show');

        } else {
            alert("Job not Created !!")
        }
    }
    function saveJobstatus() {
        var Jobid = '@Model.JobID';
        var statusid = $("#mdlJobstatusid").val();
        if (statusid == 0) {
            alert("Please select valid status !")
        } else {
            $.ajax({
                type: "GET",
                url: "/Job/UpdateJobStatus",
                datatype: "Json",
                data: { Jobid: Jobid, statusid: statusid },
                success: function (data) {
                    if (data.success == true) {
                        $.notify("Job Status Updated Successfully !!", "success");
                        window.setTimeout(function () {
                            location.reload();
                        }, 1000);
                    } else {
                        $.notify(data.message, "error");
                        $('#StaffNoteModal').modal('hide');
                    }
                }
            });
        }
    }
    function ShowStaffNotes() {
         if ('@Model.JobID' > 0) {
             $("#StaffNoteModal").modal('show');
        } else {
            alert("Job not Created !!")
        }
    }
    function SaveStaffNotes() {
           var Jobid = '@Model.JobID';
        var staffnote = $("#txtStaffnote").val();
        if (staffnote == "" || staffnote == null) {
            alert("Please Enter Your Notes !")
        } else {
            $.ajax({
                type: "GET",
                url: "/Job/UpdateStaffNote",
                datatype: "Json",
                data: { Jobid: Jobid, staffnote: staffnote },
                success: function (data) {
                    if (data.success == true) {
                        $.notify("Notes Submitted Successfully !!", "success");
                        $("#txtStaffnote").val('');
                        window.setTimeout(function () {
                            location.reload();
                        }, 1000);
                    } else {
                        $.notify(data.message, "error");
                        $('#StaffNoteModal').modal('hide');
                    }
                }
            });
        }
    }
       function ShowCustomerNotification() {
         if ('@Model.JobID' > 0) {
             $("#CustomerNotificationmodel").modal('show');
        } else {
            alert("Job not Created !!")
        }
    }
      function SaveCustNotes() {
           var Jobid = '@Model.JobID';
         var Custid = '@Model.ConsigneeID';
         var isemail = false;
         var iswhatsapp = false;
         var issms = false;
         if ($("#Isemail").prop('checked') == true) {
             isemail = true;
         }
         if ($("#Issms").prop('checked') == true) {
             issms = true;
         }
         if ($("#Iswhatsapp").prop('checked') == true) {
             iswhatsapp = true;
         }
         var staffnote = $("#txtcustMessage").val();
         if (staffnote == "" || staffnote == null) {
             alert("Please Enter Your Message !")
         } else if (isemail == false && issms == false && iswhatsapp == false)
         {
             alert("Please select any one of the notification method !")
         }
         else {
            $.ajax({
                type: "GET",
                url: "/Job/SendCustomerNotification",
                datatype: "Json",
                data: { JobId: Jobid, Message: staffnote, Customerid: Custid, whatsapp: iswhatsapp, Email: isemail, sms: issms },
                success: function (data) {
                    if (data.success == true) {
                        $.notify("Notification Sent Successfully !!", "success");
                        window.setTimeout(function () {
                            location.reload();
                        }, 1000);
                    } else {
                        $.notify(data.message, "error");
                        $('#CustomerNotificationmodel').modal('hide');
                    }
                }
            });
        }
    }
</script>

<script src="@Url.Content("~/Scripts/angular.js")"></script>
<script src="@Url.Content("~/MyJsFiles/CargoDescription.js")"></script>

<div ng-app="CargoApp" ng-controller="cargoController" class="container-fluid">

    <div class="" dir="ltr" id="main" runat="server" style="width: 100%;">
        <section class="content-header">
            <h1 class="headingfont">Job<small></small></h1>

        </section>


        <div class="row form-group cbtnpadding">
            <div class="col-md-10">
                <a href='@Url.Action("JobDetails", "Job", new { id = 0 })' class="btn btn-primary" data-toggle="tooltip" data-placement="right" title="Click here">Back to list</a>
            </div>
            <div style="text-align:right;" class="col-md-2">
                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">

                        <!-- User Account Menu -->
                        <li class="dropdown user user-menu">
                            <!-- Menu Toggle Button -->

                            <ul class="dropdown-menu extended logout" style="top:0%!important">
                                <li><a style="color:#35b8eb" href="@Url.Action("JobRegisterReport.aspx", "Reports", new { jobid = Model.JobID })">Job Report</a></li>
                                <li><a style="color:#35b8eb;cursor:pointer" onclick="AddInvoiceNumber()">Generate Invoice</a></li>
                                <li><a style="color:#35b8eb" href="@Url.Action("InvoiceReport.aspx", "Reports", new { jobid = Model.JobID })">Print Invoice</a></li>
                                <li><a style="color:#35b8eb" href="@Url.Action("DeliveryNote.aspx", "Reports", new { jobid = Model.JobID })">Delivery Note</a></li>
                                <li><a style="color:#35b8eb" href="@Url.Action("ArrivalReportPlain", "ReportInvoice", new { JobID = Model.JobID})">Arrival Note</a></li>
                                <li><a style="color:#35b8eb;cursor:pointer" onclick="ShowStaffNotes()">Staff Notes</a></li>
                                <li><a style="color:#35b8eb;cursor:pointer" onclick="ShowJobstatusModel()">Job Status</a></li>
                                <li><a style="color:#35b8eb;cursor:pointer" onclick="ShowCustomerNotification()">Customer Notification</a></li>
                                <li><a style="color:#35b8eb" href="@Url.Action("CostUpdation", "CostUpdation", new { id = 0 })">Cost Update</a></li>
                            </ul>
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i style="font-size: 30px;color:#35b8eb;padding-top: 11px;" class="fa fa-cog"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        @using (Html.BeginForm())
        {
            @Html.ValidationSummary(true)
            <input type="hidden" id="BranchLocalCurrencyId" name="BranchLocalCurrencyId" value="@Session["BaseCurrencyId"]" />
            <input type="hidden" id="DeletedInvoiceIds" name="DeletedInvoiceIds" value="" />
            <input type="hidden" id="DeletedCargoIds" name="DeletedCargoIds" value="" />
            <input type="hidden" id="DeletedContainerIds" name="DeletedContainerIds" value="" />
            <input type="hidden" id="DeletedBillOfEntryIds" name="DeletedBillOfEntryIds" value="" />
            <input type="hidden" id="DeletedAuditLogIDs" name="DeletedAuditLogIDs" value="" />
            if (ViewBag.IsInvoiveGenerated != null)
            {
                if ((bool)ViewBag.IsInvoiveGenerated == true)
                {
                    <input type="hidden" id="IsInvoiveGenerated" name="IsInvoiveGenerated" value="true" />
                }
                else
                {
                    <input type="hidden" id="IsInvoiveGenerated" name="IsInvoiveGenerated" value="false" />
                }
            }
            else
            {
                <input type="hidden" id="IsInvoiveGenerated" name="IsInvoiveGenerated" value="false" />
            }

                <section class="content jobform">
                    <div class="row no-margin">
                        <div class="col-md-3">
                            <label class="required headinglabel">Job Type</label>
                            @{
                                if (Model.JobID > 0)
                                {
                                    @Html.DropDownListFor(model => model.JobTypeID, (SelectList)ViewBag.JobType, "Select", new { @class = "form-control", required = "required" })
                                }
                                else
                                {
                                    @Html.DropDownListFor(model => model.JobTypeID, (SelectList)ViewBag.JobType, "Select", new { ng_model = "JobTypeID", ng_change = "getJobPrefix()", @class = "form-control", required = "required" })
                                }
                                @Html.HiddenFor(model => model.JobID, new { id = "JobID" })
                            }



                            @Html.ValidationMessageFor(model => model.JobTypeID)

                        </div>
                        <div class="col-md-3 checkbox_align">
                            <label class="headinglabel" style="margin-bottom: 3px">
                                <input type="checkbox" id="SubJob" name="SubJob" style="height: 12px; width: 12px; margin-bottom: 0px" />
                                SubJob
                            </label>
                            <div id="drop">
                                @Html.DropDownListFor(model => model.MainJobID, new SelectList(ViewBag.MainJobId, "JobID", "JobCode"), "Select Main Job", new { @class = "form-control", @id = "MainJobId" })
                                <input type="hidden" value="@Model.MainJobID" name="SelectedMainJobID" id="SelectedMainJobID" />
                            </div>
                        </div>


                        <div class="col-md-3">
                            <label class="required headinglabel">Job Code</label>



                            @{
                                if (Model.JobID > 0)
                                {
                                    @Html.TextBoxFor(model => model.JobCode, new { @class = "form-control", @id = "txtJobCode", required = "required" })
                                }
                                else
                                {
                                    @Html.TextBoxFor(model => model.JobCode, new { ng_model = "JobCode", @class = "form-control", required = "required" })
                                }
                            }
                            @Html.ValidationMessageFor(model => model.JobCode)

                        </div>

                        <div class="col-md-3 form-group">
                            <label class="headinglabel">Job Date</label>
                            @Html.TextBoxFor(m => m.JobDate, new { Value = Model.JobDate.Value.ToString("dd-MMM-yyyy"), id = "", @class = "form-control", @readonly = "readonly", @style = "background-color: lightgrey;" })

                            @Html.HiddenFor(model => model.JobDate)
                            @Html.HiddenFor(model => model.AcJournalID)

                        </div>

                    </div>
                    <div class="row no-margin" style="padding-top: 10px">


                        <div class="col-md-3 form-group">
                            <label class=" headinglabel">Shipper</label>
                            @Html.DropDownListFor(model => model.ConsignerID, (SelectList)ViewBag.Customer, "Select", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.ConsignerID)



                        </div>

                        <div class="col-md-3 form-group">
                            <label class="headinglabel">Consignee</label>
                            @Html.DropDownListFor(model => model.ConsigneeID, (SelectList)ViewBag.Customer, "Select", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.ConsigneeID)

                        </div>


                        <div class="col-md-3">
                            <label class=" headinglabel">Invoice To</label>
                            @Html.DropDownListFor(model => model.InvoiceToID, (SelectList)ViewBag.Customer, "Select", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.InvoiceToID)

                        </div>

                        <div class="col-md-3">
                            <label class=" headinglabel">Notify To</label>
                            @Html.DropDownListFor(model => model.ShipperID, (SelectList)ViewBag.Customer, "Select", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.ShipperID)



                        </div>
                    </div>

                    <div class="row no-margin" style="padding-top: 10px">
                        <div class="col-md-3">
                            <label class="headinglabel">Load Port</label>
                            @Html.DropDownListFor(model => model.LoadPortID, (SelectList)ViewBag.Ports, "Select", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.LoadPortID)

                        </div>

                        <div class="col-md-3">
                            <label class=" headinglabel">Destination Port</label>
                            @Html.DropDownListFor(model => model.DestinationPortID, (SelectList)ViewBag.Ports, "Select", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.DestinationPortID)

                        </div>

                        <div class="col-md-3">
                            <label class="headinglabel">Place of Receipt</label>
                            @Html.DropDownListFor(model => model.ReceiptPlaceID, (SelectList)ViewBag.Ports, "Select", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.ReceiptPlaceID)
                        </div>

                        <div class="col-md-3">
                            <label class="headinglabel">Place of Delivery</label>
                            @Html.DropDownListFor(model => model.DeliveryPlaceID, (SelectList)ViewBag.Ports, "Select", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.DeliveryPlaceID)

                        </div>

                    </div>
                    <div class="row no-margin" style="padding-top: 10px">
                        <div class="col-md-3">
                            <label class=" headinglabel">Staff</label>
                            @Html.DropDownListFor(model => model.EmployeeID, (SelectList)ViewBag.Employees, "Select", new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.EmployeeID)

                        </div>
                        <div class="col-md-3">
                            <label class=" headinglabel">Created By</label>
                            @Html.TextBox("User", Session["UserName"], new { @class = "form-control", @readonly = "readonly" })

                        </div>


                    </div>
                    <br />

                    <div id="tabs">
                        <ul class="item_list">
                            <li class="menulist"><a href="#tabs-1">Revenue Details</a></li>
                            <li class="menulist"><a href="#tabs-2">Cargo</a></li>
                            <li class="menulist"><a href="#tabs-3">Container</a></li>
                            <li class="menulist"><a href="#tabs-4">Customs</a></li>
                            <li class="menulist"><a href="#tabs-5">Bill Of Lading</a></li>
                            <li class="menulist"><a href="#tabs-6">Bill Of Entry</a></li>
                            <li class="menulist"><a href="#tabs-7">Delivery Advice</a></li>
                            <li class="menulist"><a href="#tabs-8">User Comments</a></li>
                        </ul>
                        <div id="tabs-1">
                            <div class="panel-body shadowbr">
                                <div class="inner-tab-content">
                                    <div class="row no-margin">
                                        <div class="col-sm-5 divisorColumn">
                                            <div class="col-xs-6 col-sm-4 col-md-4   no-padding">
                                                <label class="headinglabel">Revenue Type</label>
                                                @*    @Html.DropDownList("RevenueType", (SelectList)ViewBag.RevenueT, "Select", new {ng_model = "RevenueTypeID", ng_change = "getSuppliers()", @class = "form-control" })*@
                                                <input type="hidden" class="form-control textright" ng-model="InvoiceID" name="InvoiceID" id="InvoiceID" />
                                                <select ng-model="RevenueTypeID" id="RevenueTypeID" class="form-control" tabindex="1" ng_change="getSuppliers()">
                                                    <option value='0'>Select</option>
                                                    <option ng-repeat="b in RevenueTypeList" tp="{{b.TaxPercentage}}" ng-selected="RevenueTypeID==b.RevenueTypeID" value='{{b.RevenueTypeID}}'>{{b.RevenueType}}</option>
                                                </select>
                                            </div>
                                            <div class="col-xs-6 col-sm-4 col-md-4  no-padding">
                                                <label class="headinglabel">Supplier</label>
                                                <select ng-model="Supplier2" id="Supplier2" class="form-control" tabindex="2" ng_change="getSupplierID()">
                                                    <option value='0'>Select</option>
                                                    <option ng-repeat="b in Sup" ng-selected="Supplier2==b.SupplierID" value='{{b.SupplierID}}'>{{b.SupplierName}}</option>
                                                </select>
                                            </div>
                                            <div class="col-xs-6 col-sm-2 col-md-2  no-padding">
                                                <label class="headinglabel">QTY</label>
                                                <input type="number" class="form-control textright" min="1" ng-model="Quantity" tabindex="3" id="QTY" placeholder="QTY" ng_change="qtyChanged()" />
                                            </div>
                                            <div class="col-xs-6 col-sm-2 col-md-2  no-padding">
                                                <label class="headinglabel">Unit</label>
                                                @Html.DropDownList("UnitID", (SelectList)ViewBag.Unit, "Select", new { @class = "form-control", tabindex = "4", id = "UnitID" })
                                            </div>
                                        </div>
                                        <div class="col-sm-7 divisorColumnNext">
                                            <div class="col-xs-6 col-sm-4 col-md-4 reve_rates no-padding">
                                                <label class="headinglabel">Provision Rate</label>
                                                <input type="number" class="form-control textright txtNum" ng-model="ProRate" id="ProRate" tabindex="5" placeholder="Rate" ng_change="CalcProvForeign()" />
                                            </div>
                                            <div class="col-xs-6 col-sm-4 col-md-4 reve_rates no-padding">
                                                <label class="headinglabel">Prov. Currency</label>
                                                @*Html.DropDownList("ProvisionCurrency", (SelectList)ViewBag.Curency, "Select", new { id = "ProvisionExR", tabindex = "6", ng_selected = "ProvisionCurrencyID1", @ng_model = "ProvisionExR", @ng_change = "getProvisionCurEx()", @class = "form-control" })*@
                                                <select ng-model="ProvisionExR" id="ProvisionExR" class="form-control" tabindex="6" ng_change="getProvisionCurEx()">
                                                    <option value='0'>Select</option>
                                                    <option ng-repeat="b in CurrencyList" ng-selected="ProvisionExR==b.CurrencyID" value='{{b.CurrencyID}}'>{{b.CurrencyName}}</option>
                                                </select>
                                            </div>
                                            <div class="col-xs-6 col-sm-4 col-md-4  reve_rates no-padding">
                                                <label class="headinglabel">Provision Ex. Rate</label>
                                                <input type="text" ng_model="ProexChangeRate" class="form-control textright four-decimals" tabindex="7" id="ProvisionExRate" placeholder="Provision Ex Rate" ng_change="CalcProvForeign()" />
                                            </div>
                                            <div class="col-xs-6 col-sm-4 col-md-4 reve_rates no-padding">
                                                <label class="headinglabel lc_sal">Provision <span class="lc_pro">(LC)</span></label>
                                                <input type="text" ng-model="ProvisionDomestic" class="form-control textright txtNum lc_pro" tabindex="8" id="ProvisiDomestic" placeholder="Provision Domestic" />
                                            </div>
                                            <div class="col-xs-6 col-sm-4 col-md-4  reve_rates no-padding">
                                                <label class="headinglabel fc_sal">Provision <span class="fc_pro">(FC)</span></label>
                                                <input type="text" ng-model="ProvisionForeign" class="form-control textright txtNum fc_pro" tabindex="9" id="ProvisionForeign" placeholder="Provision Foreign" />
                                            </div>

                                            <div class="col-xs-6 col-sm-4 col-md-4 reve_wid no-padding">
                                                <label class="headinglabel">Margin</label>
                                                <input type="number" class="form-control textright bg-gray" ng-model="margin" id="margin" placeholder="Margin" readonly />
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row no-margin" style="padding-top: 10px;">
                                        <div class="col-sm-5 divisorColumn">
                                            <div class=" note_ls no-padding">
                                                <div class="notice">
                                                    <ul>
                                                        <li>
                                                            <p class="lc_pro"> (LC) - Local Currency</p>
                                                        </li>
                                                        <li>
                                                            <p class="fc_pro"> (FC) - Foreign Currency</p>
                                                        </li>
                                                    </ul>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-7 divisorColumnNext">

                                            <div class="right_side_job" style="display:flex; flex-wrap:wrap;">
                                                <div class=" reve_rates no-padding">
                                                    <label class="headinglabel">Sales Rate</label>
                                                    <input type="text" class="form-control textright txtNum salrate" tabindex="10" id="SaleRate" value="0.00" ng-model="SaleRate" placeholder="Rate" ng_change="CalcSaleForeign()" />
                                                </div>

                                                <div class="reve_rates  no-padding">
                                                    <label class="headinglabel">Sales Currency</label>
                                                    @*     @Html.DropDownList("SalesCurrency", (SelectList)ViewBag.Curency, "", new { ng_selected = "SalesCurrencyID1", ng_model = "SalesExR", ng_change = "getSalesCurEx()", @class = "form-control" })*@
                                                    <select ng-model="SalesExR" id="SalesExR" class="form-control" tabindex="11" ng_change="getSalesCurEx()">
                                                        <option value='0'>Select</option>
                                                        @* <option ng-repeat="b in CurrencyList" value='{{b.CurrencyID}}'>{{b.CurrencyName}}</option>*@
                                                        <option ng-repeat="b in CurrencyList" ng-selected="SalesCurrencyID==b.CurrencyID" value='{{b.CurrencyID}}'>{{b.CurrencyName}}</option>
                                                    </select>

                                                </div>

                                                <div class=" reve_rates no-padding">
                                                    <label class="headinglabel">Sales Ex. Rate</label>
                                                    <input type="text" ng-model="SaleexChangeRate" class="form-control textright four-decimals" tabindex="12" id="SalesExRate" placeholder="Sales Ex Rate" ng_change="CalcSaleForeign()" />
                                                </div>
                                                <div class=" reve_rates no-padding">
                                                    <label class="headinglabel lc_sal">Sales <span class="lc_pro">(LC)</span></label>
                                                    <input type="text" ng-model="SalesDomestic" ng-bind={{SaleRate}} class="form-control textright txtNum lc_pro" tabindex="13" id="SalesDomestic" placeholder="Sales Domestic" />
                                                </div>
                                                <div class=" reve_rates no-padding">
                                                    <label class="headinglabel fc_sal">Sales <span class="fc_pro">(FC)</span></label>
                                                    <input type="text" ng-model="SalesForeign" class="form-control textright txtNum fc_pro" tabindex="14" id="SalesForeign" placeholder="Sales Foreign" />
                                                </div>
                                                <div class=" rev_unit no-padding">
                                                    <label class="headinglabel">Tax%</label>
                                                    <input type="number" class="form-control textright taxper" ng-model="tax" id="tax" tabindex="15" placeholder="TAX" ng_change="changeTax()" />
                                                </div>
                                                <div class=" rev_unit no-padding">
                                                    <label class="headinglabel">Tax Amt.</label>
                                                    <input type="text" class="form-control textright bg-gray" ng-model="taxamt" id="taxamt" tabindex="16" placeholder="Tax Amount" value="0.00" readonly />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">

                                            <div class="col-xs-6 col-sm-12 col-md-12 butdivs   no-padding" style="text-align: right; margin-top:10px;">
                                                <input type="hidden" id="charges_update_index" value="0" />
                                                <input type="button" id="update_charges" ng-click="updateCharges()" value="Update" style="display:none;margin-top:2px;" class="btn btn-primary btnwidth" />
                                                <input type="button" id="cancel_edit_charges" ng-click="cancelEditCharges()" value="Cancel" style="display:none;margin-top:2px;" class="btn btn-danger btnwidth" />
                                                <input type="button" id="add_charges" ng-click="addCharges()" value="New" class="btn btn-primary btnwidth" />
                                            </div>
                                        </div>
                                    </div>
                                    <script>
                                        function openNav() {
                                            $("#myNav").css("display", "block");
                                            $("#charges_table").css("position", "fixed");
                                            $("#charges_table").css("top", "200px");
                                            $("#charges_table").css("left", "10px");
                                            $("#charges_table").css("z-index", "11");
                                            $("#charges_table").css("background-color", "white");
                                            //  $("#provin_rate").css("display", "block");
                                            //   $("#provin_curr").css("display", "block");
                                            //   $("#provinex_rate").css("display", "block");
                                            //   $("#provin_forgin").css("display", "block");
                                            //   $("#sale_rate").css("display", "block");
                                            //   $("#sale_curr").css("display", "block");
                                            //   $("#sale_exrate").css("display", "block");
                                            //  $("#sale_for").css("display", "block");
                                            $('#charges_table').find('td').each(function (index) {
                                                if ($(this).hasClass('hideinsummary')) {
                                                    $(this).removeClass('hideinsummary').addClass('showinfullview');
                                                }

                                            });

                                            $('#charges_table').removeClass('smalltablewidth').addClass('fulltablewidth');
                                        }

                                        function closeNav() {
                                            $("#myNav").css("display", "none");
                                            $("#charges_table").css("position", "relative");
                                            $("#charges_table").css("top", "unset");
                                            $("#charges_table").css("left", "0px");
                                            $("#charges_table").css("z-index", "1");
                                            //  $("#provin_rate").css("display", "none");
                                            //  $("#provin_curr").css("display", "none");
                                            //   $("#provinex_rate").css("display", "none");
                                            //   $("#provin_forgin").css("display", "none");
                                            //   $("#sale_rate").css("display", "none");
                                            //  $("#sale_curr").css("display", "none");
                                            //  $("#sale_exrate").css("display", "none");
                                            //  $("#sale_for").css("display", "none");

                                            $('#charges_table').find('td').each(function (index) {
                                                if ($(this).hasClass('showinfullview')) {
                                                    $(this).removeClass('showinfullview').addClass('hideinsummary');
                                                }
                                            });
                                            $('#charges_table').removeClass('fulltablewidth').addClass('smalltablewidth');
                                        }
                                    </script>

                                    <div id="myNav" class="overlay">
                                        <a href="javascript:void(0)" class="closebtn" style="color:white;z-index:10;" onclick="closeNav()">&times;</a>
                                    </div>
                                    <div class="row no-margin" id="AddCharges" style="padding-top: 10px">
                                        <div class="col-xs-12 no-padding for-device">
                                            <div class="data-table tblbackground" style="width:100%; padding: 27px;">
                                                @*  <div class="heading">
                                        <div class="title1">Revenue Type</div>
                                        <div class="title2">Supplier Name</div>
                                        <div class="title3">Quantity</div>
                                        <div class="title4">Provision Currency</div>
                                        <div class="title5">Provision Ex. Rate</div>
                                        <div class="title6">Provision Domestic</div>
                                        <div class="title7">Provision Foreign</div>
                                        <div class="title8">Sales Currency</div>
                                        <div class="title9">Sales Ex. Rate</div>
                                        <div class="title10">Sales Domestic</div>
                                        <div class="title11">Sales Foreign</div>
                                        <div class="title12">Local Currency</div>
                                    </div>*@
                                                <div class="ico_cla"><span style="font-size:15px;cursor:pointer" onclick="openNav()"><i class="fa fa-expand" aria-hidden="true"></i></span></div>
                                                <div class="data" style="overflow:auto;">
                                                    <table border="1" class="table table-responsive table-bordered smalltablewidth fulltablewidth " id="charges_table">
                                                        <tr>
                                                            <td width="20%">
                                                                Revenue Type
                                                            </td>
                                                            <td width="20%">Supplier Name</td>
                                                            <td width="1%">
                                                                Quantity
                                                            </td>
                                                            <td width="5%">
                                                                Unit
                                                            </td>
                                                            <td id="provin_rate" class="hideinsummary">
                                                                Provision Rate
                                                            </td>
                                                            <td id="provin_curr" class="hideinsummary">
                                                                Provision Currency
                                                            </td>
                                                            <td id="provinex_rate" class="hideinsummary">
                                                                Provision Ex. Rate
                                                            </td>
                                                            <td width="8%" class="lc_pro">
                                                                <p class="lc_pro"> Provision LC</p>
                                                            </td>
                                                            <td id="provin_forgin" class="hideinsummary">
                                                                Provision FC
                                                            </td>
                                                            <td id="sale_rate" class="hideinsummary">
                                                                Sales Rate
                                                            </td>

                                                            <td id="sale_exrate" class="hideinsummary">
                                                                Sales Ex. Rate
                                                            </td>
                                                            <td width="8%" class="lc_pro">
                                                                <p class="lc_pro">   Sales LC</p>
                                                            </td>
                                                            <td id="sale_curr">
                                                                Currency
                                                            </td>
                                                            <td width="8%" class="fc_pro">
                                                                <p class="fc_pro">Sales FC</p>
                                                            </td>
                                                            <td width="5%">
                                                                Tax %
                                                            </td>
                                                            <td width="6%">
                                                                Tax Amt
                                                            </td>
                                                            <td width="8%">
                                                                Margin
                                                            </td>
                                                            <td> Action</td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="tabs-2">
                            <div class="panel-body shadowbr">
                                <div class="inner-tab-content">
                                    <div class="row no-margin">
                                        <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                            <label class="headinglabel">Mark</label>
                                            <input type="hidden" id="CargoDescriptionID" value="0" ng-model="CargoDescriptionID" />
                                            <input type="text" tabindex="1" ng-model="Mark" class="form-control txttarget" id="Mark" placeholder="Mark" style="text-align: left" />
                                        </div>
                                        <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                            <label class="headinglabel">Description</label>
                                            <input type="text" tabindex="2" ng-model="CarDescription" class="form-control txttarget" id="Description" placeholder="Description" style="text-align: left" />
                                        </div>

                                        <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                            <label class="headinglabel">Weight</label>
                                            <input type="number" tabindex="3" ng-model="weight" class="form-control textright" id="weight" placeholder="weight" />
                                        </div>
                                        <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                            <label class="headinglabel">Volume</label>
                                            <input type="number" tabindex="4" ng-model="volume" class="form-control textright" id="volume" placeholder="volume" />
                                        </div>
                                        <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                            <label class="headinglabel">Packages</label>
                                            <input type="number" tabindex="5" ng-model="Packages" class="form-control textright" id="Packages" placeholder="Packages" />
                                        </div>
                                        <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                            <label class="headinglabel">Gross Weight</label>
                                            <input type="number" tabindex="6" ng-model="GrossWeight" class="form-control textright" id="GrossWeight" placeholder="GrossWeight" />
                                        </div>
                                    </div>
                                </div>
                                <div class="row no-margin border1px" style="padding-top: 10px">
                                    <div class="col-xs-12 no-padding" style="text-align: right">
                                        <input type="hidden" id="cargo_update_index" value="0">
                                        <input type="button" id="add_cargo" data-ng-click="addCargoDesc()" value="New" class="btn btn-primary btnwidth" />
                                        <input type="button" id="update_cargo" data-ng-click="updateCargo()" value="Update" style="display:none;" class="btn btn-primary btnwidth" />
                                        <input type="button" id="cancel_edit_cargo" data-ng-click="cancelEditCargo()" value="Cancel" style="display:none;" class="btn btn-primary btnwidth" />
                                    </div>
                                </div>

                                <div class="row no-margin" id="AddCargo" style="padding-top: 10px">
                                    <div class="col-xs-12 no-padding for-device">
                                        <div class="data-table tblbackground" style="padding: 27px;">

                                            <div class="data" style="overflow:auto;">
                                                <table border="1" class="table table-responsive table-bordered " style="width: 100%" id="cargo_table">
                                                    <tr>
                                                        <td>Mark</td>
                                                        <td>Description</td>
                                                        <td>Weight</td>
                                                        <td>Volume</td>
                                                        <td>Packages</td>
                                                        <td>Gross Weight</td>
                                                        <td>Action</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="tabs-3">
                            <div class="panel-body shadowbr">
                                <div class="row no-margin">
                                    <div class="col-xs-6 col-sm-3 col-md-3 no-padding">
                                        <label class="headinglabel">Container Type</label>
                                        <input type="hidden" name="JContainerDetailID" id="JContainerDetailID" value="0" ng-model="JContainerDetailID" />
                                        <select ng-model="ContainerTypeID" id="ContainerTypeID" class="form-control" ng_change="getContainers()">
                                            <option value='0'>Select</option>
                                            <option ng-repeat="b in ContainerTypeList" ng-selected="ContainerTypeID==b.ContainerTypeID" value='{{b.ContainerTypeID}}'>{{b.ContainerType}}</option>
                                        </select>
                                    </div>
                                    <div class="col-xs-6 col-sm-3 col-md-3 no-padding">
                                        <label class="headinglabel">Container No</label>
                                        <input type="text" tabindex="1" class="form-control" ng-model="ContainerNo" id="ContainerNo" placeholder="Container No" />

                                    </div>
                                    <div class="col-xs-6 col-sm-3 col-md-3 no-padding">
                                        <label class="headinglabel">Seal No</label>
                                        <input type="text" tabindex="2" class="form-control" ng-model="SealNo" id="SealNo" placeholder="Seal No" />
                                    </div>
                                    <div class="col-xs-6 col-sm-3 col-md-3 no-padding">
                                        <label class="headinglabel">Description</label>
                                        <input type="text" tabindex="3" class="form-control" ng-model="ContainerDescription" id="ContainerDescription" placeholder="Description" />
                                    </div>
                                </div>
                                <div class="row no-margin border1px" style="padding-top: 10px">
                                    <div class="col-xs-12 no-padding" style="text-align: right">
                                        <input type="button" id="add_container" data-ng-click="addContainerDetails()" value="New" class="btn btn-primary btnwidth" />
                                        <input type="hidden" id="container_update_index" value="0">
                                        <input type="button" id="update_container" data-ng-click="updateContainerDetails()" value="Update" style="display:none;" class="btn btn-primary btnwidth" />
                                        <input type="button" id="cancel_edit_container" data-ng-click="cancelEditContainerDetails()" value="Cancel" style="display:none;" class="btn btn-primary btnwidth" />
                                    </div>
                                </div>
                                <div class="row no-margin" id="AddContainer" style="padding-top: 10px">
                                    <div class="col-xs-12 no-padding for-device">
                                        <div class="data-table tblbackground" style="padding:27px">

                                            <div class="data" style="overflow:auto;">
                                                <table border="1" class="table table-responsive table-bordered " style="width: 100%" id="container_table">
                                                    <tr>
                                                        <td>Container Type</td>
                                                        <td>Container No</td>
                                                        <td>Seal No</td>
                                                        <td>Description</td>
                                                        <td>Action</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="tabs-4">
                            <div class="panel-body shadowbr">
                                <div class="row no-margin" id="AddCustoms" style="padding-top: 10px">
                                    <div class="col-xs-12 col-sm-4 col-md-4 no-padding">
                                        <label class="headinglabel">IPT No.</label>
                                        @Html.TextBoxFor(m => m.IPTNo, new { id = "IPTNo", @class = "form-control", tabindex = "1", autocomplete = "off" })

                                        <br />
                                        <label class="headinglabel">Customer Ref. No.</label>
                                        @Html.TextBoxFor(m => m.RefNo, new { id = "RefNo", @class = "form-control", tabindex = "2", autocomplete = "off" })

                                        <br />
                                        <label class="headinglabel">Rotation No.</label>
                                        @Html.TextBoxFor(m => m.RotationNo, new { id = "RotationNo", @class = "form-control", tabindex = "3", autocomplete = "off" })

                                        <br />
                                        <label class="headinglabel">BL Date</label>
                                        @if (Model.BLDate != null)
                                        {

                                            @Html.TextBoxFor(m => m.BLDate, "{0:dd-MMM-yyyy}", new { id = "BLDate", @class = "form-control", tabindex = "4", autocomplete = "off" })
                                            @Html.ValidationMessageFor(model => model.BLDate)
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.BLDate, new { id = "BLDate", @class = "form-control", tabindex = "4", autocomplete = "off" })
                                            @Html.ValidationMessageFor(model => model.BLDate)
                                        }

                                        <br />

                                        <label class="headinglabel">Country Of Orgin</label>
                                        @Html.DropDownListFor(model => model.CountryofOriginID, (SelectList)ViewBag.Countries, "Select", new { @class = "form-control", tabindex = "5", @readonly = "readonly" })

                                        <br />
                                    </div>
                                    <div class="col-xs-12 col-sm-4 col-md-4 no-padding">


                                        <label class="headinglabel">Delivery Order No.</label>
                                        @Html.TextBoxFor(m => m.DeliveryOrderNo, new { value = Model.DeliveryOrderNo, id = "DeliveryOrderNo", @class = "form-control", tabindex = "6", autocomplete = "off" })

                                        <br />

                                        <label class="headinglabel">DO Date</label>
                                        @if (Model.DeliveryOrderDate != null)
                                        {
                                            @Html.TextBoxFor(m => m.DeliveryOrderDate, "{0:dd-MMM-yyyy}", new { id = "DeliveryOrderDate", @class = "form-control", tabindex = "7", autocomplete = "off" })
                                            @Html.ValidationMessageFor(model => model.DeliveryOrderDate)
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.DeliveryOrderDate, new { id = "DeliveryOrderDate", @class = "form-control", tabindex = "7", autocomplete = "off" })
                                            @Html.ValidationMessageFor(model => model.DeliveryOrderDate)
                                        }
                                        <br />
                                        <label class="headinglabel">MRN</label>
                                        @Html.TextBoxFor(m => m.MRN, new { id = "MRN", @class = "form-control", tabindex = "8", autocomplete = "off" })

                                        <br />
                                        <label class="headinglabel">CLF Value</label>
                                        @Html.TextBoxFor(m => m.CLFValue, new { id = "CLFValue", @class = "form-control textright two-decimals", tabindex = "9", autocomplete = "off" })

                                        <br />
                                        <label class="headinglabel">Deposit Amount</label>
                                        @Html.TextBoxFor(m => m.DepositAmount, new { id = "DepositAmount", tabindex = "10", @class = "form-control textright two-decimals", autocomplete = "off" })

                                        <br />


                                    </div>
                                    <div class="col-xs-12 col-sm-4 col-md-4 no-padding">

                                        <label class="headinglabel">Deposit Date</label>
                                        @if (Model.DepositDate != null)
                                        {
                                            @Html.TextBoxFor(m => m.DepositDate, "{0:dd-MMM-yyyy}", new { id = "DepositDate", tabindex = "11", @class = "form-control", autocomplete = "off" })
                                            @Html.ValidationMessageFor(model => model.DepositDate)
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.DepositDate, new { id = "DepositDate", @class = "form-control", tabindex = "11", autocomplete = "off" })
                                            @Html.ValidationMessageFor(model => model.DepositDate)
                                        }
                                        <br />
                                        <label class="headinglabel">Receipt No</label>
                                        @Html.TextBoxFor(m => m.ReceiptNo, new { id = "ReceiptNo", @class = "form-control", tabindex = "12", autocomplete = "off" })

                                        <br />
                                        <label class="headinglabel">Refund Date</label>
                                        @if (Model.RefundDate != null)
                                        {
                                            @Html.TextBoxFor(m => m.RefundDate, "{0:dd-MMM-yyyy}", new { id = "RefundDate", tabindex = "13", @class = "form-control", autocomplete = "off" })
                                            @Html.ValidationMessageFor(model => model.RefundDate)
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.RefundDate, new { id = "RefundDate", @class = "form-control", tabindex = "13", autocomplete = "off" })
                                            @Html.ValidationMessageFor(model => model.RefundDate)
                                        }
                                        <br />
                                        <label class="headinglabel">Refund Amount</label>
                                        @Html.TextBoxFor(m => m.RefundAmount, new { id = "RefundAmount", @class = "form-control textright two-decimals", tabindex = "14", autocomplete = "off" })

                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="tabs-6">
                            <div class="panel-body shadowbr">
                                <div class="inner-tab-content">
                                    <div class="row no-margin">
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">Bill Of Entry</label>
                                            <input type="hidden" name="BIllOfEntryID" id="BIllOfEntryID" value="0" />
                                            @Html.TextBox("BIllOfEntry", "", new { ng_model = "BIllOfEntry", @class = "form-control txttarget", @autocomplete = "off", placeholder = "Bill Of Entry", id = "BillOfEntry" })
                                        </div>
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">Bill Of Entry Date</label>
                                            @Html.TextBox("BillofEntryDate", "", new { ng_model = "BillofEntryDate", @class = "form-control txttarget", @autocomplete = "off", placeholder = "Bill Of Entry Date", id = "BillofEntryDate" })

                                        </div>
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">Shipping Agent</label>
                                            @Html.DropDownList("ShippingAgent", (SelectList)ViewBag.ShippingA, "Select", new { ng_model = "ShippingAgentID", @class = "form-control", id = "ShippingAgentID" })

                                        </div>
                                    </div>
                                    <div class="row no-margin border1px" style="padding-top: 10px">
                                        <div class="col-xs-12 no-padding" style="text-align: right">
                                            <input type="button" id="add_bill" value="New" ng-click="addBillOfEntry()" class="btn btn-primary btnwidth" />
                                            <input type="hidden" id="billofentry_update_index" value="0">
                                            <input type="button" id="update_billofentry" data-ng-click="updateBillOfEntry()" value="Update" style="display:none;" class="btn btn-primary btnwidth" />
                                            <input type="button" id="cancel_edit_billofentry" data-ng-click="cancelBillOfEntry()" value="Cancel" style="display:none;" class="btn btn-primary btnwidth" />
                                        </div>
                                    </div>
                                    <div class="row no-margin" id="AddBill" style="padding-top: 10px">
                                        <div class="col-xs-12 no-padding for-device">
                                            <div class="data-table tblbackground" style="padding:27px;">
                                                @*<div class="heading">
                                        <div class="title1">Bill Of Entry</div>
                                        <div class="title2">Bill Of Entry Date</div>
                                        <div class="title3">Shipping Agent</div>
                                    </div>*@
                                                <div class="data">

                                                    <table border="1" class="table table-responsive table-bordered " style="width: 100%" id="bill_of_entry_table">
                                                        <tr>
                                                            <td>
                                                                Bill Of Entry
                                                            </td>
                                                            <td>Bill Of Entry Date</td>
                                                            <td>Shipping Agent</td>
                                                            <td>Action</td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="tabs-5">
                            <div class="panel-body shadowbr">
                                <div class="inner-tab-content">
                                    <div class="row no-margin">
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">Vessel</label>
                                            @Html.DropDownListFor(model => model.VesselID, (SelectList)ViewBag.Vessels, "Select", new { @class = "form-control", @readonly = "readonly" })
                                        </div>
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">Voyage No.</label>
                                            @Html.TextBoxFor(m => m.VoyageNo, new { id = "VoyageNo", @class = "form-control", autocomplete = "off", placeholder = "Voyage No" })
                                        </div>
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">MBL</label>
                                            @Html.TextBoxFor(m => m.MBL, new { id = "MBL", @class = "form-control", autocomplete = "off", placeholder = "MBL" })
                                        </div>
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">HBL</label>
                                            @Html.TextBoxFor(m => m.HBL, new { id = "HBL", @class = "form-control", autocomplete = "off", placeholder = "HBL" })
                                        </div>
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">BL Status</label>
                                            @Html.DropDownListFor(m => m.BLStatus, (SelectList)ViewBag.BLStatusList, "Select", new { id = "BLStatus", @class = "form-control", autocomplete = "off", placeholder = "BL Status" })
                                        </div>
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">Freight</label>
                                            @Html.TextBoxFor(m => m.Freight, new { id = "Freight", @class = "form-control textright two-decimals", autocomplete = "off", placeholder = "Freight" })
                                        </div>
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">Sailing Date</label>
                                            @if (Model.SailingDate != null)
                                            {
                                                @Html.TextBoxFor(m => m.SailingDate, "{0:dd-MMM-yyyy}", new { id = "SailingDate", @class = "form-control", autocomplete = "off", placeholder = "Sailing Date" })
                                            }
                                            else
                                            {
                                                @Html.TextBoxFor(m => m.SailingDate, new { id = "SailingDate", @class = "form-control", autocomplete = "off", placeholder = "Sailing Date" })
                                            }
                                        </div>
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">Arrival Date</label>
                                            @if (Model.ArrivalDate != null)
                                            {
                                                @Html.TextBoxFor(m => m.ArrivalDate, "{0:dd-MMM-yyyy}", new { id = "ArrivalDate", @class = "form-control", autocomplete = "off", placeholder = "Arrival Date" })
                                                @Html.ValidationMessageFor(model => model.ArrivalDate)
                                            }
                                            else
                                            {
                                                @Html.TextBoxFor(m => m.ArrivalDate, new { id = "ArrivalDate", @class = "form-control", autocomplete = "off", placeholder = "Arrival Date" })
                                                @Html.ValidationMessageFor(model => model.ArrivalDate)
                                            }
                                        </div>
                                        <div class="col-xs-6 col-sm-4 no-padding">
                                            <label class="headinglabel">Carrier</label>
                                            @Html.DropDownListFor(m => m.CarrierID, (SelectList)ViewBag.Carriers, "Select", new { id = "CarrierID", @class = "form-control" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="tabs-7">
                            <div class="panel-body shadowbr">
                                <div class="inner-tab-content">
                                    <div class="row no-margin">
                                        <div class="col-xs-6 col-sm-6 col-md-6 no-padding">
                                            <label class="headinglabel">Transporter</label>
                                            @Html.DropDownListFor(model => model.TransporterID, (SelectList)ViewBag.Transporters, "Select", new { @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.TransporterID)
                                            <br />
                                            <label class="headinglabel">Delivery Date</label>

                                            @if (Model.DeliveryDate != null)
                                            {

                                                @Html.TextBoxFor(m => m.DeliveryDate, "{0:dd-MMM-yyyy}", new { id = "", @class = "form-control", autocomplete = "off" })
                                                @Html.ValidationMessageFor(model => model.DeliveryDate)
                                            }
                                            else
                                            {
                                                @Html.TextBoxFor(model => model.DeliveryDate, new { @class = "form-control", autocomplete = "off" })
                                                @Html.ValidationMessageFor(model => model.DeliveryDate)
                                            }


                                            <br />
                                            <label class="headinglabel">Delivery Note No</label>
                                            @Html.TextBoxFor(model => model.DeliveryNote, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.DeliveryNote)
                                            <br />
                                            <label class="headinglabel">Delivery</label>
                                            @Html.TextBoxFor(model => model.DeliveryInstructions, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.DeliveryInstructions)
                                            <br />
                                            <label class="headinglabel">Delivery Point</label>
                                            @Html.TextBoxFor(model => model.DeliveryPoint, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.DeliveryPoint)
                                            <br />
                                            <label class="headinglabel">Truck Reg No</label>
                                            @Html.TextBoxFor(model => model.TruckRegNo, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.TruckRegNo)
                                        </div>

                                        <div class="col-xs-6 col-sm-6 col-md-6 no-padding">
                                            <label class="headinglabel">Collection Date</label>
                                            @if (Model.CollectionDate != null)
                                            {

                                                @Html.TextBoxFor(m => m.CollectionDate, "{0:dd-MMM-yyyy}", new { id = "", @class = "form-control" })
                                                @Html.ValidationMessageFor(model => model.CollectionDate)
                                            }
                                            else
                                            {
                                                @Html.TextBoxFor(model => model.CollectionDate, new { @class = "form-control" })
                                                @Html.ValidationMessageFor(model => model.CollectionDate)
                                            }

                                            <br />

                                            <label class="headinglabel">Collection Point</label>
                                            @Html.TextAreaFor(model => model.CollectionPoint, new { @class = "form-control message", rows = "50", cols = "80" })
                                            @Html.ValidationMessageFor(model => model.CollectionPoint)
                                            <br />
                                            <label class="headinglabel">Collection Instructions</label>
                                            @Html.TextAreaFor(model => model.CollectionInstructions, new { @class = "form-control2 message", rows = "50", cols = "80" })
                                            @Html.ValidationMessageFor(model => model.CollectionInstructions)
                                            <br />
                                            <label class="headinglabel">Driver Details</label>
                                            @Html.TextBoxFor(model => model.DriverDetails, new { @class = "form-control" })
                                            @Html.ValidationMessageFor(model => model.DriverDetails)
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div id="tabs-8" style="float:left;">
                            <div class="panel-body shadowbr">
                                <div class="row no-margin">
                                    <div class="col-xs-6 col-sm-2 col-md-2 no-padding">
                                        <label class="headinglabel">Date</label>
                                        <input ng-model="TransDate" class="form-control" id="TransDate" autocomplete="off" placeholder="Date" />
                                    </div>

                                    <div class="col-xs-10 col-sm-10 col-md-10 no-padding">
                                        <label class="headinglabel">Remarks</label>
                                        <input type="text" class="form-control txttarget" ng-model="Remarks" id="NotificationRemarks" placeholder="Remarks" />

                                    </div>
                                </div>
                                <div class="row no-margin border1px" style="padding-top: 10px">
                                    <div class="col-xs-12 no-padding" style="text-align: right">
                                        <input type="button" id="add_notification" data-ng-click="addAuditDet()" value="New" class="btn btn-primary btnwidth" />
                                        <input type="hidden" id="notification_update_index" value="0">
                                        <input type="button" id="update_notification" data-ng-click="updateNotification()" value="Update" style="display:none;" class="btn btn-primary btnwidth" />
                                        <input type="button" id="cancel_edit_notification" data-ng-click="cancelNotification()" value="Cancel" style="display:none;" class="btn btn-primary btnwidth" />
                                    </div>
                                </div>
                                <div class="row no-margin" id="AddNotification" style="padding-top: 10px">
                                    <div class="col-xs-12 no-padding for-device">
                                        <div class="data-table tblbackground" style="padding:27px;">
                                            <div class="data">
                                                <table border="1" class="table table-responsive table-bordered " style="width: 100%" id="audit_table">
                                                    <tr>
                                                        <td style="width:20%">Date</td>
                                                        <td style="width:70%">Remarks</td>
                                                        <td style="width:10%">Action</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row no-margin">
                        <div class="col-md-12">
                            <div class="panel-group" id="panel-894775">
                            </div>
                        </div>
                    </div>
                    <div class="row no-margin remarks">
                        <div class=" col-md-5">
                            <label class="  headinglabel">Remarks</label>
                            @Html.TextAreaFor(model => model.Remarks, new { @class = "form-control txttarget" })
                            @Html.ValidationMessageFor(model => model.Remarks)
                        </div>
                        <div class=" col-md-2"></div>
                        <div class=" col-md-5">
                            <label class="  headinglabel">
                                Terms of Shipments
                            </label>
                            @Html.TextAreaFor(model => model.shippingInstruction, new { @class = "form-control txttarget" })
                            @Html.ValidationMessageFor(model => model.shippingInstruction)
                        </div>

                    </div>
                    <div class="row no-margin buttons" style="padding-top: 10px">
                        <div class="col-md-12 butdivs">
                            @{ if (Model.JobID > 0)
                                {
                                    if (ismodify)
                                    {
                                        <input type="submit" name="Command" value="Update" class="btn btn-primary btnwidth" />
                                    }
                                    else
                                    {
                                        <input type="submit" name="Command" value="Update" class="btn btn-primary btnwidth" disabled />

                                    }
                                }
                                else
                                {
                                    if (@isadd)
                                    {
                                        <input type="submit" name="Command" value="Save" ng-click="GenerateInvoice()" class="btn btn-primary btnwidth" id="btnSave" />
                                    }
                                    else
                                    {
                                        <input type="submit" name="Command" disabled value="Save" ng-click="GenerateInvoice()" class="btn btn-primary btnwidth" id="btnSave" />

                                    }
                                }

                            }
                            &nbsp;
                            <a href='@Url.Action("JobDetails", "Job", new { id = 0 })' class="btn btn-danger btnwidth">Cancel</a>
                            &nbsp;
                            @{ if (Model.JobID > 0)
                                {


                                    if (ViewBag.IsInvoiveGenerated != null)
                                    {
                                        if ((bool)ViewBag.IsInvoiveGenerated == false)
                                        {
                                            <input type="button" value="Generate Invoice" onclick="return AddInvoiceNumber();" class="btn btn-primary" style="width: 141px" />
                                        }
                                    }
                                    else
                                    {
                                        <input type="button" value="Generate Invoice" onclick="return AddInvoiceNumber();" class="btn btn-primary" style="width: 141px" />
                                    }
                                }
                            }


                        </div>
                    </div>
                    <div id="wrapper">
                        <div id="page-wrapper">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="modal fade" id="InvoiceModal" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">

                                                <div class="modal-header" style="background-color: #f5f5f5;">
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

                                                    <h4 class="modal-title" id="exampleModalLabel">
                                                        <img src="~/Content/img/ipeak.png" /><span style="font-size: 14px; color: #3c8dbc !important; font-size: 14px">Generate Invoice</span>
                                                    </h4>
                                                </div>

                                                <div class="modal-body">
                                                    <div class="container-fluid">
                                                        <div class="row" style="padding-top: 5px">
                                                            <div class="col-sm-12">
                                                                <div class="row">
                                                                    <div class="col-xs-5 col-sm-3">
                                                                        Invoice Date
                                                                    </div>
                                                                    <div class="col-xs-7 col-sm-4">
                                                                        @Html.TextBoxFor(m => m.InvoiceDate, "{0:dd-MMM-yyyy}", new { id = "", @class = "form-control" })
                                                                        @*  @Html.TextBoxFor(model => model.InvoiceDate, new { @class = "form-control" })*@
                                                                    </div>
                                                                </div>
                                                                <div class="row" style="margin-top: 5px">
                                                                    <div class="col-xs-5 col-sm-3">
                                                                        Invoice No
                                                                    </div>
                                                                    <div class="col-xs-7 col-sm-4">
                                                                        @Html.TextBoxFor(model => model.InvoiceNo, new { @class = "form-control" })

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer" style="padding-top: 5px">
                                                    <input type="hidden" id="hdnCountryID" />
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    <button type="submit" name="Command" value="SaveInvoice" class="btn btn-primary" id="Button1">Save</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="wrapper">
                        <div id="page-wrapper">
                            <div class="row">
                                <div class="col-lg-10">
                                    <div class="modal fade" id="jobstatusmodal" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog" style="width:50%">
                                            <div class="modal-content">

                                                <div class="modal-header" style="background-color: #f5f5f5;">
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

                                                    <h4 class="modal-title" id="jobstatusmodal">
                                                        <span style="font-size: 18px; color: #3c8dbc !important; text-align:center">Job Status</span>
                                                    </h4>
                                                </div>

                                                <div class="modal-body">
                                                    <div class="container-fluid">
                                                        <div class="row" style="padding-top: 5px">
                                                            <div class="col-sm-12">
                                                                <div class="row form-group">

                                                                    <div class="col-xs-7 col-sm-12">
                                                                        <label>Job Status</label>
                                                                        <select class="form-control" id="mdlJobstatusid">
                                                                            <option value="0">Select</option>
                                                                            @foreach (var item in jobstatus)
                                                                            {
                                                                                if (ViewBag.JobStatusId == item.JobStatusId)
                                                                                {
                                                                                    <option value="@item.JobStatusId" selected>@item.StatusName</option>

                                                                                }
                                                                                else
                                                                                {
                                                                                    <option value="@item.JobStatusId">@item.StatusName</option>

                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="row form-group">
                                                                    <div class="col-xs-7 col-sm-12">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Date</th>
                                                                                    <th>Staff</th>
                                                                                    <th style="text-align:center !important;width:33%">Status</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                @foreach (var statusmodel in StatusModel)
                                                                                {

                                                                                    <tr>
                                                                                        <td>@statusmodel.Datetime</td>
                                                                                        <td>@statusmodel.EmpName</td>
                                                                                        <td>@statusmodel.StatusName</td>
                                                                                    </tr>


                                                                                }
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer" style="padding-top: 5px;text-align:right">
                                                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                                                    <button type="button" name="SaveStatus" class="btn btn-primary" onclick="saveJobstatus()" id="SaveStatus">Save</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



                    <div id="wrapper">
                        <div id="page-wrapper">
                            <div class="row">
                                <div class="col-lg-10">
                                    <div class="modal fade StaffNoteModal" id="StaffNoteModal" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog" style="width:70%">
                                            <div class="modal-content">

                                                <div class="modal-header" style="background-color: #f5f5f5;">
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

                                                    <h4 class="modal-title" id="StaffNoteModal1">
                                                        <span style="font-size: 18px; color: #3c8dbc !important; text-align:center">Staff Notes</span>
                                                    </h4>
                                                </div>

                                                <div class="modal-body" id="staffmodelbody">
                                                    <div class="container-fluid">
                                                        <div class="row" style="padding-top: 5px">
                                                            <div class="col-sm-12">
                                                                <div class="row form-group">
                                                                    <div class="col-xs-7 col-sm-12">
                                                                        <label>Enter Your Note</label>
                                                                        <textarea id="txtStaffnote" rows="4" cols="100"></textarea>
                                                                    </div>
                                                                </div>
                                                                <div class="row form-group">
                                                                    <div class="col-xs-7 col-sm-12">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th width="18%">Date</th>
                                                                                    <th width="15%">Staff</th>
                                                                                    <th style="text-align:center !important">Notes</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                @foreach (var staffnote in staffmodel)
                                                                                {

                                                                                    <tr>
                                                                                        <td width="18%">@staffnote.Datetime</td>
                                                                                        <td width="15%">@staffnote.EmpName</td>
                                                                                        <td>@staffnote.TaskDetails</td>
                                                                                    </tr>


                                                                                }
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer" style="padding-top: 5px;text-align:right">
                                                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                                                    <button type="button" name="SaveStaffnote" class="btn btn-primary" onclick="SaveStaffNotes()" id="SaveStaffnote">Save</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="wrapper">
                        <div id="page-wrapper">
                            <div class="row">
                                <div class="col-lg-10">
                                    <div class="modal fade CustomerNotificationmodel" id="CustomerNotificationmodel" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog" style="width:70%">
                                            <div class="modal-content">

                                                <div class="modal-header" style="background-color: #f5f5f5;">
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>

                                                    <h4 class="modal-title" id="CustomerNotificationmodel1">
                                                        <span style="font-size: 18px; color: #3c8dbc !important; text-align:center">Customer Notification</span>
                                                    </h4>
                                                </div>

                                                <div class="modal-body" id="staffmodelbody">
                                                    <div class="container-fluid">
                                                        <div class="row" style="padding-top: 5px">
                                                            <div class="col-sm-12">
                                                                <div class="row form-group">
                                                                    <div class="col-xs-7 col-sm-4">
                                                                        <label>TO  </label>
                                                                    </div>
                                                                    <div class="col-xs-7 col-sm-8">
                                                                        <label>@CustomerDetails.Customer1 </label>
                                                                    </div>
                                                                </div>
                                                                <div class="row form-group">
                                                                    <div class="col-xs-7 col-sm-4">
                                                                        <label><input type="checkbox" id="Isemail" /> Email  </label>
                                                                    </div>
                                                                    <div class="col-xs-7 col-sm-8">
                                                                        <span>@CustomerDetails.Email  </span>
                                                                    </div>
                                                                </div>
                                                                <div class="row form-group">
                                                                    <div class="col-xs-7 col-sm-4">
                                                                        <label><input type="checkbox" id="Issms" /> SMS  </label>
                                                                    </div>
                                                                    <div class="col-xs-7 col-sm-8">
                                                                        <span>@CustomerDetails.MobileNumber </span>
                                                                    </div>
                                                                </div>
                                                                <div class="row form-group">
                                                                    <div class="col-xs-7 col-sm-4">
                                                                        <label><input type="checkbox" id="Iswhatsapp" /> WhatsApp  </label>
                                                                    </div>
                                                                    <div class="col-xs-7 col-sm-8">
                                                                        <span>@CustomerDetails.WhatsAppNumber </span>
                                                                    </div>
                                                                </div>
                                                                <div class="row form-group">
                                                                    <div class="col-xs-7 col-sm-12">
                                                                        <label>Enter Your Message</label>
                                                                        <textarea id="txtcustMessage" rows="4" cols="100"></textarea>
                                                                    </div>
                                                                </div>
                                                                <div class="row form-group">
                                                                    <div class="col-xs-7 col-sm-12">
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th width="18%">Date</th>
                                                                                    <th width="15%">Staff</th>
                                                                                    <th width="15%">Is Email</th>
                                                                                    <th width="15%">Is SMS</th>
                                                                                    <th width="15%">Is WhatsApp</th>
                                                                                    <th style="text-align:center !important">Message</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                @foreach (var CustNotify in CustomerNotification)
                                                                                {

                                                                                    <tr>
                                                                                        <td width="18%">@CustNotify.Datetime</td>
                                                                                        <td width="15%">@CustNotify.EmpName</td>
                                                                                        <td width="15%">@CustNotify.IsEmail</td>
                                                                                        <td width="15%">@CustNotify.IsSms</td>
                                                                                        <td width="15%">@CustNotify.IsWhatsapp</td>
                                                                                        <td>@CustNotify.Message</td>
                                                                                    </tr>


                                                                                }
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer" style="padding-top: 5px;text-align:right">
                                                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                                                    <button type="button" name="SaveStaffnote" class="btn btn-primary" onclick="SaveCustNotes()" id="SaveStaffnote">Send</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
        }
    </div>

</div>
<link href="~/Content/themes/base/minified/jquery-ui.min.css" rel="stylesheet" />
